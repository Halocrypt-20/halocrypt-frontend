(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{6012:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return b}});var r=n(1511),o=n.n(r),a=n(5843),i=n.n(a),u=n(7766),s=n.n(u),l=n(1222),c=n.n(l),p=n(4382),d=n.n(p),v=n(7672),h=n.n(v),f=n(2386),m=n(4383),S=n(3735),g=n(77),w=n(9710),y=m.h.getStore(),b=function(t){function e(){for(var e,n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,s()(e=[this]).call(e,o))||this,h()(c()(n),"state",{isLoading:!1,token:""}),h()(c()(n),"onInput",(function(t){return n.setState({token:t.target.value||""})})),h()(c()(n),"onSubmit",(function(){var t,e=i()(t=n.state.token||"").call(t);e||n.setState({error:"Blank Token"}),n.setState({isLoading:!0}),(0,S.V)(g.EA.checkEmailToken,{token:e}).then((function(t){var e=t.error||t.data.error;return e?n.setState({error:e,isLoading:!1}):(y.userData.has_verified_email=!0,(0,f.uX)("/profile?email-verified"))}))})),n}d()(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this;return y.isLoggedIn?y.userData.has_verified_email?(0,f.uX)("/profile"):(this.setState({isLoading:!0}),void(0,S.V)(g.EA.verifyEmail,{user:y.userData.id}).then((function(e){var n=e.error||e.data.error;if(n)return t.setState({error:n});t.setState({isLoading:!1,emailSent:!0})}))):this.setState({error:"Log in first"})},n.render=function(t,e){return(0,f.az)("div",{children:[e.error&&(0,f.az)(ErrorPopup,{errorHead:"Failed",reasons:o()(e.error)?e.error:[e.error],close:this._resetError}),(0,f.az)("div",{class:"heading-text bfont mtx-fp",children:"Verify Email"}),(0,f.az)("form",{action:"javascript:",onSubmit:this.onSubmit,children:[e.emailSent?"Check your email for the token":"Still mailing you..",e.emailSent&&(0,f.az)("div",{class:"input-parent",children:[(0,f.az)(w.H,{onInput:this.onInput,labelText:"Token"}),(0,f.az)("button",{class:"action-button hoverable heading-text",children:"Submit"})]})]}),e.isLoading&&"Just a sec"]})},e}(f.wA)},9710:function(t,e,n){"use strict";n.d(e,{H:function(){return h}});var r=n(1942),o=n.n(r),a=n(7766),i=n.n(a),u=n(1222),s=n.n(u),l=n(4382),c=n.n(l),p=n(7672),d=n.n(p),v=n(2386),h=function(t){function e(){for(var e,n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,i()(e=[this]).call(e,o))||this,d()(s()(n),"state",{id:Math.random(),isFocused:!1,value:n.props.value||""}),d()(s()(n),"onFocus",(function(){return!n.state.value&&n.setState({isFocused:!0,moveDown:!1})})),d()(s()(n),"onBlur",(function(){return!n.state.value&&n.setState({isFocused:!1,moveDown:!0})})),d()(s()(n),"onInput",(function(t){return n.setState({value:t.target.value})})),d()(s()(n),"__onInput",(function(t){var e=n.props.onInput;n.onInput(t),null!=e&&e(t)})),n}return c()(e,t),e.prototype.render=function(t,e){var n=t.idx,r=t.labelText,o=void 0===r?"":r,a=t.type,i=void 0===a?"text":a,u=t.inputClass,s=t.extraProps,l=e.isFocused,c=e.moveDown,p=n||this.state.id,d=this.state.value,h=["_animate",l||d?"moveup":"",c?"movedown":""];return(0,v.h)("div",{class:"user-input-anim "+(u||"")},(0,v.h)("label",{class:h,for:p},o),(0,v.h)(f,{onFocus:this.onFocus,onBlur:this.onBlur,type:i,value:d,extraProps:s,id:p,onInput:this.__onInput}))},e}(v.wA);function f(t){var e=t.onFocus,n=t.onBlur,r=t.onInput,a=t.id,i=t.type,u=t.value,s=t.extraProps;return(0,v.h)("input",o()({onFocus:e,onBlur:n,onInput:r,id:a,value:u,type:i},s,{class:"paper-input"}))}}}]);