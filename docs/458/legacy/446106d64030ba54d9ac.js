(window.webpackJsonp=window.webpackJsonp||[]).push([[458,564],{26007:function(t,e,n){"use strict";n.d(e,{k:function(){return m}});n(66992),n(69600),n(39575),n(41539),n(88674),n(82472),n(92990),n(18927),n(33105),n(35035),n(74345),n(7174),n(32846),n(44731),n(77209),n(96319),n(58867),n(37789),n(33739),n(29368),n(14483),n(12056),n(3462),n(30678),n(27462),n(33824),n(55021),n(12974),n(15016);var r,a=n(11128),i=n.n(a),s=n(33032),o=n.n(s),u=n(93476),c=n.n(u),l=n(54103),d=n.n(l),h=n(80077),p=n(73735),f=n(74383),v=n(59369),g=(0,v.Z)({session:function(){if("crypto"in self)return crypto.getRandomValues(new Uint8Array(10)).join("-");return String(Math.random())}()},window.__initConfig);window.__initConfig=null;var w=f.h.getStore(),b=window.requestIdleCallback||window.requestAnimationFrame||window.Promise&&d()(r=c().prototype.then).call(r,c().resolve())||o(),m=new(function(){function t(){this.pageViewRegistered="register-start",this.registerActionComplete="register-end",this.pageViewLogin="login-start",this.loginActionCompleted="login-end",this.pageViewPlay="play-start",this.accessQuestion="question",this.answeredQuestion="answered",this.leaderboardView="leaderboard",this.profileView="profile"}var e=t.prototype;return e.__shouldPostLog=function(){return!h.mH},e._admin_getLogs=function(){if(w.isLoggedIn&&w.userData.is_admin)return(0,p.A)(h.PW.getLogs)},e.sendUserLog=function(t){var e="string"==typeof t?{type:t}:t,n=(0,v.Z)({},e,g);this.__shouldPostLog()?b((function(){return(0,p.V)(h.PW.addLog,n)})):console.log("prod log post ->",n)},t}());window.onerror=function(t,e,n,r,a){var s=a||{};t=t||s.message||"";var o=a.line||s.message||0,u=a.column||0,c=s.script||"",l=s.stackTrace||s.stack||"",d=i()(),h=location.href;m.sendUserLog({type:"js-error",timestamp:d,message:t,line:o,column:u,script:c,stack:l,url:h,source:e})}},61564:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return x},Question:function(){return T}});n(74916),n(15306);var r=n(51942),a=n.n(r),i=n(2991),s=n.n(i),o=n(63109),u=n.n(o),c=(n(35666),n(51161)),l=n.n(c),d=n(77766),h=n.n(d),p=n(5824),f=n.n(p),v=n(94382),g=n.n(v),w=n(87672),b=n.n(w),m=n(12386),z=n(74383),y=n(80077),_=n(73735),k=(n(9710),n(79067)),S=n(26007),Q=z.h.getStore(),A=function(t){return(t||"").toLowerCase().replace(/\s/g,"")},q=(0,m.az)(T,{data:{question_level:"Loading",question:"Finding your question",hint:[]}}),x=function(t){function e(){for(var e,n,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=t.call.apply(t,h()(e=[this]).call(e,a))||this,b()(f()(n),"state",{fetchedQuestion:null,isFetching:!1,answer:"",isAwaitingAnswer:!1,incorrect:!1}),b()(f()(n),"onInput",(function(t){return n.setState({answer:A(t.target.value)})})),b()(f()(n),"_submit",l()(u().mark((function t(){var e,r,a,i,s;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.state.isAwaitingAnswer){t.next=2;break}return t.abrupt("return");case 2:if(n.setState({isAwaitingAnswer:!0}),e=n.state.answer,r=n.state.fetchedQuestion&&n.state.fetchedQuestion.question_level||1,e){t.next=7;break}return t.abrupt("return");case 7:return a={answer:e},t.next=10,(0,_.V)(y.hY.answerQuestion,a);case 10:if(i=t.sent,s=i.data,S.k.sendUserLog({type:S.k.answeredQuestion,question_level:r}),!s.result){t.next=15;break}return t.abrupt("return",n.proceedToNextLevel());case 15:n.setState({isAwaitingAnswer:!1,incorrect:!0});case 16:case"end":return t.stop()}}),t)})))),b()(f()(n),"proceedToNextLevel",(function(){S.k.sendUserLog({type:S.k.accessQuestion,question_level:(n.state.fetchedQuestion&&n.state.fetchedQuestion.question_level||0)+1}),n.setState({fetchedQuestion:null})})),b()(f()(n),"resetError",(function(){return n.setState({incorrect:!1})})),n}g()(e,t);var n=e.prototype;return n.componentDidMount=function(){if(!Q.isLoggedIn)return(0,m.uX)("/login?next=/play");S.k.sendUserLog(S.k.pageViewPlay),this.fetchQuestion()},n.componentDidUpdate=function(){if(null==this.state.fetchedQuestion)return this.fetchQuestion()},n.fetchQuestion=function(){var t=l()(u().mark((function t(){var e,n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.state.isFetching){t.next=2;break}return t.abrupt("return");case 2:return this.setState({isFetching:!0}),t.next=5,(0,_.A)(y.hY.getQuestion);case 5:if(!(e=t.sent).error){t.next=8;break}return t.abrupt("return",this.setState({hasError:!0,isFetching:!1,fetchedQuestion:1}));case 8:n=e.data,this.setState({fetchedQuestion:n,isFetching:!1});case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),n.render=function(t,e){return Q.eventBegan?(0,m.az)(m.HY,{children:[e.incorrect&&(0,m.az)(m.HY,{children:[(0,m.az)("div",{class:"mask"}),(0,m.az)(k.O,{errorHead:"Nope",reasons:["That is not the right answer"],close:this.resetError})]}),e.isFetching||!e.fetchedQuestion?q:(0,m.az)(T,{data:e.fetchedQuestion,value:e.answer,onInput:this.onInput,onSubmit:this._submit}),e.isAwaitingAnswer&&"Checking your answer..."]}):(0,m.az)("div",{style:{fontSize:"4rem"},children:"Not yet"})},e}(m.wA),L={autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:!1,style:{width:"90%"}};function T(t){var e,n=t.data,r=t.value,i=t.onInput,o=t.onSubmit,u=t.disableInput;return n.game_over?"You win (?)":(0,m.az)("form",{action:"javascript:",onSubmit:o,children:[(0,m.az)("div",{class:"question-num",children:["Question - ",n.question_level]}),(0,m.az)("div",{class:"question-card",children:[(0,m.az)("div",{children:n.question}),(0,m.az)("div",{class:"question-hint",children:n.hint&&!!n.hint.length&&s()(e=n.hint).call(e,(function(t,e){return(0,m.az)("div",{children:"Hint "+(e+1)+": "+t})}))}),!u&&(0,m.az)("input",a()({class:"paper-input",placeholder:"Answer",onInput:i,value:r},L))]}),!u&&(0,m.az)("button",{class:"action-button heading-text sbm-button hoverable",children:"Submit"})]})}},60458:function(t,e,n){"use strict";n.r(e);var r=n(63109),a=n.n(r),s=(n(35666),n(51161)),o=n.n(s),u=n(77766),c=n.n(u),l=n(5824),d=n.n(l),h=n(94382),p=n.n(h),f=n(87672),v=n.n(f),g=n(12386),w=n(74383),b=n(80077),m=n(73735);var z=n(61564),y=n(2991),_=n.n(y),k=n(51942),S=n.n(k),Q=function(t){function e(){for(var e,n,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=t.call.apply(t,c()(e=[this]).call(e,a))||this,v()(d()(n),"state",{hasQuestionData:null,question:"",hint:[],special:[],answer:"",hintLen:0,specialLen:0}),v()(d()(n),"_handleQuestion",(function(t){var e=t.target.value||"";n.setState({question:e}),n.props.propUpdater("question",e)})),v()(d()(n),"componentDidUpdate",n.componentDidMount),v()(d()(n),"_handleHint",(function(t){var e=+t.target.dataset.value;n.state.hint[e]=ee.target.value})),n}p()(e,t);var n=e.prototype;return n.componentDidMount=function(){this.state.hasQuestionData&&this.state.question_level===this.props.questionData.question_level||(this.props.questionData=[],this.setState(S()({hasQuestionData:!0},this.props.questionData)))},n.render=function(t,e){var n,r=this;if(e.hasQuestionData)return(0,g.az)("div",{children:[(0,g.az)("div",{style:{width:"80%",margin:"auto",marginBottom:"20px"},children:(0,g.az)("input",{class:"paper-input",value:e.question,placeholder:"Question",onInput:this._handleQuestion})}),(0,g.az)("div",{children:e.hint&&e.hint.length>0?_()(n=e.hint).call(n,(function(t,e){return(0,g.az)("input",{"data-value":e,class:"paper-input",value:t,placeholder:"Hint #"+e,onInput:r._handleHint})})):(0,g.az)("input",{"data-value":i,class:"paper-input",value:x,placeholder:"Hint #"+i})})]})},e}(g.wA);n.d(e,{default:function(){return q}});var A=w.h.getStore();function q(){return A.isLoggedIn&&A.userData.is_admin?(0,g.az)("div",{class:"admin-data-panel",children:(0,g.az)(L,{})}):(0,g.az)("div",{style:{fontSize:"8rem"},children:"NO"})}var L=function(t){function e(){for(var e,n,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=t.call.apply(t,c()(e=[this]).call(e,a))||this,v()(d()(n),"state",{currentTab:"questions"}),v()(d()(n),"setTab",(function(t){return n.setState({currentTab:t.target.dataset.tab})})),n}return p()(e,t),e.prototype.render=function(t,e){var n="questions"===e.currentTab,r="users"===e.currentTab,a="logs"===e.currentTab;return(0,g.az)(g.HY,{children:[(0,g.az)("div",{class:"btn-box",children:[(0,g.az)("button",{onClick:this.setTab,"data-tab":"questions",class:"admin-button-tab"+(n?" active":""),children:"Questions"}),(0,g.az)("button",{onClick:this.setTab,"data-tab":"users",class:"admin-button-tab"+(r?" active":""),children:"Users"}),(0,g.az)("button",{onClick:this.setTab,"data-tab":"logs",class:"admin-button-tab"+(a?" active":""),children:"Logs"})]}),(0,g.az)("div",{style:{fontSize:"2rem"},children:["Workspace: ",e.currentTab]}),n&&(0,g.az)(T,{}),r&&(0,g.az)(F,{})]})},e}(g.wA),T=function(t){function e(){for(var e,n,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=t.call.apply(t,c()(e=[this]).call(e,a))||this,v()(d()(n),"state",{currentTask:null}),v()(d()(n),"closeWorkspaceTask",(function(){return n.setState({currentTask:null})})),v()(d()(n),"setTask_addQuestion",(function(){return n.setState({currentTask:D})})),v()(d()(n),"setTask_editQuestion",(function(){return n.setState({currentTask:I})})),n}return p()(e,t),e.prototype.render=function(t,e){if(null==e.currentTask)return(0,g.az)("div",{children:[(0,g.az)("span",{children:"Available Actions:"}),(0,g.az)("button",{class:"btn-act hoverable",onClick:this.setTask_addQuestion,children:"Add Question"}),(0,g.az)("button",{class:"btn-act hoverable",onClick:this.setTask_editQuestion,children:"Edit Question"})]});var n=this.state.currentTask;return(0,g.az)(n,{})},e}(g.wA),D=function(t){function e(){for(var e,n,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=t.call.apply(t,c()(e=[this]).call(e,a))||this,v()(d()(n),"state",{questionData:{question:"",hint:[],special_hint:[]}}),v()(d()(n),"_sendQuestion",(function(){})),v()(d()(n),"_propUpdater",(function(t,e){return n.setState((function(n){var r=n.questionData;return r[t]=e,r}))})),n}p()(e,t);var n=e.prototype;return n.getLastQuestionData=function(){var t=o()(a().mark((function t(){var e,n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.setState({isLoading:!0,data:null,showLastQuestion:!1}),t.next=3,(0,m.A)(b.SA.getLatestQuestionNumber).then((function(t){return t.data}));case 3:e=t.sent,(n=this.state.questionData).question_level=e.question_number+1,this.setState({data:!0,isLoading:!1,questionData:n});case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),n.componentDidMount=function(){this.getLastQuestionData()},n.render=function(t,e){return this.state.isLoading?(0,g.az)(C,{}):this.state.data?(0,g.az)("div",{children:[(0,g.az)("div",{class:"heading-text last-q",children:"Game View :"}),(0,g.az)(Q,{propUpdater:this._propUpdater,onSubmit:this._sendQuestion,questionData:this.state.questionData}),(0,g.az)("div",{class:"last-question-card",children:(0,g.az)(z.Question,{data:e.questionData,disableInput:!0})})]}):void 0},e}(g.wA),I=function(t){function e(){return t.apply(this,arguments)||this}return p()(e,t),e}(g.wA);function F(){}var C=function(){return"Loading data..."}},9710:function(t,e,n){"use strict";n.d(e,{H:function(){return f}});var r=n(51942),a=n.n(r),i=n(77766),s=n.n(i),o=n(5824),u=n.n(o),c=n(94382),l=n.n(c),d=n(87672),h=n.n(d),p=n(12386),f=function(t){function e(){for(var e,n,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=t.call.apply(t,s()(e=[this]).call(e,a))||this,h()(u()(n),"state",{id:Math.random(),isFocused:!1,value:n.props.value||""}),h()(u()(n),"onFocus",(function(){return!n.state.value&&n.setState({isFocused:!0,moveDown:!1})})),h()(u()(n),"onBlur",(function(){return!n.state.value&&n.setState({isFocused:!1,moveDown:!0})})),h()(u()(n),"onInput",(function(t){return n.setState({value:t.target.value})})),h()(u()(n),"__onInput",(function(t){var e=n.props.onInput;n.onInput(t),null!=e&&e(t)})),n}return l()(e,t),e.prototype.render=function(t,e){var n=t.idx,r=t.labelText,a=void 0===r?"":r,i=t.type,s=void 0===i?"text":i,o=t.inputClass,u=t.extraProps,c=e.isFocused,l=e.moveDown,d=n||this.state.id,h=this.state.value,f=["_animate",c||h?"moveup":"",l?"movedown":""];return(0,p.h)("div",{class:"user-input-anim "+(o||"")},(0,p.h)("label",{class:f,for:d},a),(0,p.h)(v,{onFocus:this.onFocus,onBlur:this.onBlur,type:s,value:h,extraProps:u,id:d,onInput:this.__onInput}))},e}(p.wA);function v(t){var e=t.onFocus,n=t.onBlur,r=t.onInput,i=t.id,s=t.type,o=t.value,u=t.extraProps;return(0,p.h)("input",a()({onFocus:e,onBlur:n,onInput:r,id:i,value:o,type:s},u,{class:"paper-input"}))}},79067:function(t,e,n){"use strict";n.d(e,{O:function(){return s},P:function(){return o}});var r=n(2991),a=n.n(r),i=n(12386);function s(t){var e;return(0,i.az)("div",{class:"app-popup",children:[(0,i.az)("div",{class:"heading-text clr app-popup-title",children:"Something Ain't Right"}),(0,i.az)("div",{children:t.errorHead}),(0,i.az)("div",{class:"err-reasons",children:(0,i.az)("div",{children:a()(e=t.reasons).call(e,(function(t){return(0,i.az)("div",{children:[" - ",t]})}))})}),(0,i.az)("button",{class:"app-popup-close",onClick:t.close,children:"OK"})]})}var o=/([^\w]|_)/g},15306:function(t,e,n){"use strict";var r=n(27007),a=n(19670),i=n(47908),s=n(17466),o=n(99958),u=n(84488),c=n(31530),l=n(97651),d=Math.max,h=Math.min,p=Math.floor,f=/\$([$&'`]|\d\d?|<[^>]*>)/g,v=/\$([$&'`]|\d\d?)/g;r("replace",2,(function(t,e,n,r){var g=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,w=r.REPLACE_KEEPS_$0,b=g?"$":"$0";return[function(n,r){var a=u(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,a,r):e.call(String(a),n,r)},function(t,r){if(!g&&w||"string"==typeof r&&-1===r.indexOf(b)){var i=n(e,t,this,r);if(i.done)return i.value}var u=a(t),p=String(this),f="function"==typeof r;f||(r=String(r));var v=u.global;if(v){var z=u.unicode;u.lastIndex=0}for(var y=[];;){var _=l(u,p);if(null===_)break;if(y.push(_),!v)break;""===String(_[0])&&(u.lastIndex=c(p,s(u.lastIndex),z))}for(var k,S="",Q=0,A=0;A<y.length;A++){_=y[A];for(var q=String(_[0]),x=d(h(o(_.index),p.length),0),L=[],T=1;T<_.length;T++)L.push(void 0===(k=_[T])?k:String(k));var D=_.groups;if(f){var I=[q].concat(L,x,p);void 0!==D&&I.push(D);var F=String(r.apply(void 0,I))}else F=m(q,p,x,L,D,r);x>=Q&&(S+=p.slice(Q,x)+F,Q=x+q.length)}return S+p.slice(Q)}];function m(t,n,r,a,s,o){var u=r+t.length,c=a.length,l=v;return void 0!==s&&(s=i(s),l=f),e.call(o,l,(function(e,i){var o;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,r);case"'":return n.slice(u);case"<":o=s[i.slice(1,-1)];break;default:var l=+i;if(0===l)return e;if(l>c){var d=p(l/10);return 0===d?e:d<=c?void 0===a[d-1]?i.charAt(1):a[d-1]+i.charAt(1):e}o=a[l-1]}return void 0===o?"":o}))}}))}}]);