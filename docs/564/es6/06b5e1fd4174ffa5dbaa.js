(window.webpackJsonp=window.webpackJsonp||[]).push([[564],{564:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>p});var s=n(386),i=n(804),a=n(77),o=n(596),r=n(710),u=n(67);function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const l=i.h.getStore(),h=t=>(t||"").toLowerCase().replace(/\s/g,""),d=(0,s.az)(w,{data:{question_level:"Loading",question:"Finding your question",hint:[]}});class p extends s.wA{constructor(...t){var e;super(...t),e=this,c(this,"state",{fetchedQuestion:null,isFetching:!1,answer:"",isAwaitingAnswer:!1,incorrect:!1}),c(this,"onInput",t=>this.setState({answer:h(t.target.value)})),c(this,"_submit",(async function(){const t=e.state.answer;if(!t)return;const n={answer:t};if(e.setState({isAwaitingAnswer:!0}),(await(0,o.V)(a.hY.answerQuestion,n)).data.result)return e.proceedToNextLevel();e.setState({isAwaitingAnswer:!1,incorrect:!0})})),c(this,"proceedToNextLevel",()=>{this.setState({fetchedQuestion:null})}),c(this,"resetError",()=>this.setState({incorrect:!1}))}componentDidMount(){if(!l.isLoggedIn)return(0,s.uX)("/login?next=/play");this.fetchQuestion()}componentDidUpdate(){if(null==this.state.fetchedQuestion)return this.fetchQuestion()}async fetchQuestion(){if(this.state.isFetching)return;this.setState({isFetching:!0});const t=await(0,o.A)(a.hY.getQuestion);if(t.error)return this.setState({hasError:!0,isFetching:!1,fetchedQuestion:1});const e=t.data;this.setState({fetchedQuestion:e,isFetching:!1})}render(t,e){return(0,s.az)(s.HY,{children:[e.incorrect&&(0,s.az)(s.HY,{children:[(0,s.az)("div",{class:"mask"}),(0,s.az)(u.O,{errorHead:"Nope",reasons:["That is not the right answer"],close:this.resetError})]}),e.isFetching||!e.fetchedQuestion?d:(0,s.az)(w,{data:e.fetchedQuestion,value:e.answer,onInput:this.onInput,onSubmit:this._submit}),e.isAwaitingAnswer&&"Checking your answer..."]})}}const v={autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:!1};function w(t){const{data:e,value:n,onInput:i,onSubmit:a}=t;return e.game_over?"You win (?)":(0,s.az)("form",{action:"javascript:",onSubmit:a,children:[(0,s.az)("div",{class:"question-num",children:["Question - ",e.question_level]}),(0,s.az)("div",{class:"question-card",children:[(0,s.az)("div",{children:e.question}),(0,s.az)("div",{class:"question-hint",children:e.hint.map((t,e)=>(0,s.az)("div",{children:`Hint ${e+1}: ${t}`}))}),(0,s.az)(r.H,{extraProps:v,onInput:i,value:n,labelText:"Answer"})]}),(0,s.az)("button",{class:"action-button heading-text sbm-button hoverable",children:"Submit"})]})}},710:(t,e,n)=>{"use strict";n.d(e,{H:()=>a});var s=n(386);function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class a extends s.wA{constructor(...t){super(...t),i(this,"state",{id:Math.random(),isFocused:!1,value:this.props.value||""}),i(this,"onFocus",()=>!this.state.value&&this.setState({isFocused:!0,moveDown:!1})),i(this,"onBlur",()=>!this.state.value&&this.setState({isFocused:!1,moveDown:!0})),i(this,"onInput",t=>this.setState({value:t.target.value})),i(this,"__onInput",t=>{const e=this.props.onInput;this.onInput(t),null!=e&&e(t)})}render({idx:t,labelText:e="",type:n="text",inputClass:i,extraProps:a},{isFocused:r,moveDown:u}){const c=t||this.state.id,l=this.props.value||this.state.value,h=["_animate",r||l?"moveup":"",u?"movedown":""];return(0,s.h)("div",{class:"user-input-anim "+(i||"")},(0,s.h)("label",{class:h,for:c},e),(0,s.h)(o,{onFocus:this.onFocus,onBlur:this.onBlur,type:n,value:l,extraProps:a,id:c,onInput:this.__onInput}))}}function o({onFocus:t,onBlur:e,onInput:n,id:i,type:a,value:o,extraProps:r}){return(0,s.h)("input",{onFocus:t,onBlur:e,onInput:n,id:i,value:o,type:a,...r,class:"paper-input"})}},67:(t,e,n)=>{"use strict";n.d(e,{O:()=>i,P:()=>a});var s=n(386);function i(t){return(0,s.az)("div",{class:"app-popup",children:[(0,s.az)("div",{class:"heading-text clr app-popup-title",children:"Something Ain't Right"}),(0,s.az)("div",{children:t.errorHead}),(0,s.az)("div",{class:"err-reasons",children:(0,s.az)("div",{children:t.reasons.map(t=>(0,s.az)("div",{children:[" - ",t]}))})}),(0,s.az)("button",{class:"app-popup-close",onClick:t.close,children:"OK"})]})}const a=/([^\w]|_)/g}}]);