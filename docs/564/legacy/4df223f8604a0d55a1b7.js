(window.webpackJsonp=window.webpackJsonp||[]).push([[564],{1564:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return F}});n(4916),n(5306);var r=n(2991),i=n.n(r),a=n(3109),o=n.n(a),s=(n(5666),n(1161)),u=n.n(s),c=n(7766),l=n.n(c),d=n(1222),h=n.n(d),p=n(4382),f=n.n(p),v=n(7672),g=n.n(v),w=n(2386),b=n(4383),S=n(77),m=n(3735),x=n(9710),z=n(9067),A=b.h.getStore(),y=function(t){return(t||"").toLowerCase().replace(/\s/g,"")},I=(0,w.az)(k,{data:{question_level:"Loading",question:"Finding your question",hint:[]}}),F=function(t){function e(){for(var e,n,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=t.call.apply(t,l()(e=[this]).call(e,i))||this,g()(h()(n),"state",{fetchedQuestion:null,isFetching:!1,answer:"",isAwaitingAnswer:!1,incorrect:!1}),g()(h()(n),"onInput",(function(t){return n.setState({answer:y(t.target.value)})})),g()(h()(n),"_submit",u()(o().mark((function t(){var e,r,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=n.state.answer){t.next=3;break}return t.abrupt("return");case 3:return r={answer:e},n.setState({isAwaitingAnswer:!0}),t.next=7,(0,m.V)(S.hY.answerQuestion,r);case 7:if(i=t.sent,!i.data.result){t.next=11;break}return t.abrupt("return",n.proceedToNextLevel());case 11:n.setState({isAwaitingAnswer:!1,incorrect:!0});case 12:case"end":return t.stop()}}),t)})))),g()(h()(n),"proceedToNextLevel",(function(){n.setState({fetchedQuestion:null})})),g()(h()(n),"resetError",(function(){return n.setState({incorrect:!1})})),n}f()(e,t);var n=e.prototype;return n.componentDidMount=function(){if(!A.isLoggedIn)return(0,w.uX)("/login?next=/play");this.fetchQuestion()},n.componentDidUpdate=function(){if(null==this.state.fetchedQuestion)return this.fetchQuestion()},n.fetchQuestion=function(){var t=u()(o().mark((function t(){var e,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.state.isFetching){t.next=2;break}return t.abrupt("return");case 2:return this.setState({isFetching:!0}),t.next=5,(0,m.A)(S.hY.getQuestion);case 5:if(!(e=t.sent).error){t.next=8;break}return t.abrupt("return",this.setState({hasError:!0,isFetching:!1,fetchedQuestion:1}));case 8:n=e.data,this.setState({fetchedQuestion:n,isFetching:!1});case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),n.render=function(t,e){return A.eventBegan?(0,w.az)(w.HY,{children:[e.incorrect&&(0,w.az)(w.HY,{children:[(0,w.az)("div",{class:"mask"}),(0,w.az)(z.O,{errorHead:"Nope",reasons:["That is not the right answer"],close:this.resetError})]}),e.isFetching||!e.fetchedQuestion?I:(0,w.az)(k,{data:e.fetchedQuestion,value:e.answer,onInput:this.onInput,onSubmit:this._submit}),e.isAwaitingAnswer&&"Checking your answer..."]}):(0,w.az)("div",{style:{fontSize:"4rem"},children:"Not yet"})},e}(w.wA),_={autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:!1};function k(t){var e,n=t.data,r=t.value,a=t.onInput,o=t.onSubmit;return n.game_over?"You win (?)":(0,w.az)("form",{action:"javascript:",onSubmit:o,children:[(0,w.az)("div",{class:"question-num",children:["Question - ",n.question_level]}),(0,w.az)("div",{class:"question-card",children:[(0,w.az)("div",{children:n.question}),(0,w.az)("div",{class:"question-hint",children:i()(e=n.hint).call(e,(function(t,e){return(0,w.az)("div",{children:"Hint "+(e+1)+": "+t})}))}),(0,w.az)(x.H,{extraProps:_,onInput:a,value:r,labelText:"Answer"})]}),(0,w.az)("button",{class:"action-button heading-text sbm-button hoverable",children:"Submit"})]})}},9710:function(t,e,n){"use strict";n.d(e,{H:function(){return f}});var r=n(1942),i=n.n(r),a=n(7766),o=n.n(a),s=n(1222),u=n.n(s),c=n(4382),l=n.n(c),d=n(7672),h=n.n(d),p=n(2386),f=function(t){function e(){for(var e,n,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=t.call.apply(t,o()(e=[this]).call(e,i))||this,h()(u()(n),"state",{id:Math.random(),isFocused:!1,value:n.props.value||""}),h()(u()(n),"onFocus",(function(){return!n.state.value&&n.setState({isFocused:!0,moveDown:!1})})),h()(u()(n),"onBlur",(function(){return!n.state.value&&n.setState({isFocused:!1,moveDown:!0})})),h()(u()(n),"onInput",(function(t){return n.setState({value:t.target.value})})),h()(u()(n),"__onInput",(function(t){var e=n.props.onInput;n.onInput(t),null!=e&&e(t)})),n}return l()(e,t),e.prototype.render=function(t,e){var n=t.idx,r=t.labelText,i=void 0===r?"":r,a=t.type,o=void 0===a?"text":a,s=t.inputClass,u=t.extraProps,c=e.isFocused,l=e.moveDown,d=n||this.state.id,h=this.state.value,f=["_animate",c||h?"moveup":"",l?"movedown":""];return(0,p.h)("div",{class:"user-input-anim "+(s||"")},(0,p.h)("label",{class:f,for:d},i),(0,p.h)(v,{onFocus:this.onFocus,onBlur:this.onBlur,type:o,value:h,extraProps:u,id:d,onInput:this.__onInput}))},e}(p.wA);function v(t){var e=t.onFocus,n=t.onBlur,r=t.onInput,a=t.id,o=t.type,s=t.value,u=t.extraProps;return(0,p.h)("input",i()({onFocus:e,onBlur:n,onInput:r,id:a,value:s,type:o},u,{class:"paper-input"}))}},9067:function(t,e,n){"use strict";n.d(e,{O:function(){return o},P:function(){return s}});var r=n(2991),i=n.n(r),a=n(2386);function o(t){var e;return(0,a.az)("div",{class:"app-popup",children:[(0,a.az)("div",{class:"heading-text clr app-popup-title",children:"Something Ain't Right"}),(0,a.az)("div",{children:t.errorHead}),(0,a.az)("div",{class:"err-reasons",children:(0,a.az)("div",{children:i()(e=t.reasons).call(e,(function(t){return(0,a.az)("div",{children:[" - ",t]})}))})}),(0,a.az)("button",{class:"app-popup-close",onClick:t.close,children:"OK"})]})}var s=/([^\w]|_)/g},5306:function(t,e,n){"use strict";var r=n(7007),i=n(9670),a=n(7908),o=n(7466),s=n(9958),u=n(4488),c=n(1530),l=n(7651),d=Math.max,h=Math.min,p=Math.floor,f=/\$([$&'`]|\d\d?|<[^>]*>)/g,v=/\$([$&'`]|\d\d?)/g;r("replace",2,(function(t,e,n,r){var g=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,w=r.REPLACE_KEEPS_$0,b=g?"$":"$0";return[function(n,r){var i=u(this),a=null==n?void 0:n[t];return void 0!==a?a.call(n,i,r):e.call(String(i),n,r)},function(t,r){if(!g&&w||"string"==typeof r&&-1===r.indexOf(b)){var a=n(e,t,this,r);if(a.done)return a.value}var u=i(t),p=String(this),f="function"==typeof r;f||(r=String(r));var v=u.global;if(v){var m=u.unicode;u.lastIndex=0}for(var x=[];;){var z=l(u,p);if(null===z)break;if(x.push(z),!v)break;""===String(z[0])&&(u.lastIndex=c(p,o(u.lastIndex),m))}for(var A,y="",I=0,F=0;F<x.length;F++){z=x[F];for(var _=String(z[0]),k=d(h(s(z.index),p.length),0),E=[],Q=1;Q<z.length;Q++)E.push(void 0===(A=z[Q])?A:String(A));var P=z.groups;if(f){var T=[_].concat(E,k,p);void 0!==P&&T.push(P);var $=String(r.apply(void 0,T))}else $=S(_,p,k,E,P,r);k>=I&&(y+=p.slice(I,k)+$,I=k+_.length)}return y+p.slice(I)}];function S(t,n,r,i,o,s){var u=r+t.length,c=i.length,l=v;return void 0!==o&&(o=a(o),l=f),e.call(s,l,(function(e,a){var s;switch(a.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,r);case"'":return n.slice(u);case"<":s=o[a.slice(1,-1)];break;default:var l=+a;if(0===l)return e;if(l>c){var d=p(l/10);return 0===d?e:d<=c?void 0===i[d-1]?a.charAt(1):i[d-1]+a.charAt(1):e}s=i[l-1]}return void 0===s?"":s}))}}))}}]);