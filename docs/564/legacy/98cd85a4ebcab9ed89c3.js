(window.webpackJsonp=window.webpackJsonp||[]).push([[564],{1128:function(e,t,n){e.exports=n(7784)},6007:function(e,t,n){"use strict";n.d(t,{u:function(){return m},k:function(){return b}});n(1539),n(8674);var r,i=n(1128),a=n.n(i),s=n(3032),o=n.n(s),u=n(875),c=n.n(u),l=n(4103),d=n.n(l),h=n(77),f=n(3735),p=n(4383),g=n(9369),v=(0,g.Z)({},window.__initConfig);window.__initConfig=null;var w=p.h.getStore(),m=window.requestIdleCallback||window.requestAnimationFrame||window.Promise&&d()(r=c().prototype.then).call(r,c().resolve())||o(),b=new(function(){function e(){this.pageViewRegistered="register-start",this.registerActionComplete="register-end",this.pageViewLogin="login-start",this.loginActionCompleted="login-end",this.pageViewPlay="play-start",this.accessQuestion="question",this.answeredQuestion="answered",this.leaderboardView="leaderboard",this.profileView="profile",this.passwordResetRequested="password-reset"}var t=e.prototype;return t.__shouldPostLog=function(){return!1},t._admin_getLogs=function(){if(w.isLoggedIn&&w.userData.is_admin)return(0,f.A)(h.PW.getLogs)},t.sendUserLog=function(e){var t="string"==typeof e?{type:e}:e,n=(0,g.Z)({},t,v);this.__shouldPostLog()?m((function(){return(0,f.V)(h.PW.addLog,n)})):console.log("prod log post ->",n)},e}());window.onerror=function(e,t,n,r,i){var s=i||{};e=e||s.message||"";var o=i.line||s.message||0,u=i.column||0,c=s.script||"",l=s.stackTrace||s.stack||"",d=a()(),h=location.href;b.sendUserLog({type:"js-error",timestamp:d,message:e,line:o,column:u,script:c,stack:l,url:h,source:t})}},1564:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Q},Question:function(){return I},getLinkOrTextNode:function(){return E}});n(4916),n(5306);var r=n(1942),i=n.n(r),a=n(2991),s=n.n(a),o=n(3109),u=n.n(o),c=(n(5666),n(1161)),l=n.n(c),d=n(7766),h=n.n(d),f=n(1222),p=n.n(f),g=n(4382),v=n.n(g),w=n(7672),m=n.n(w),b=n(2386),k=n(4383),_=n(77),z=n(3735),S=n(9067),A=n(6007),x=k.h.getStore(),y=function(e){return(e||"").toLowerCase().replace(/\s/g,"")},L=(0,b.az)(I,{data:{question_level:"Loading",question:"Finding your question",hint:[]}}),Q=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=e.call.apply(e,h()(t=[this]).call(t,i))||this,m()(p()(n),"state",{fetchedQuestion:null,isFetching:!1,answer:"",isAwaitingAnswer:!1,incorrect:!1}),m()(p()(n),"onInput",(function(e){return n.setState({answer:y(e.target.value)})})),m()(p()(n),"_submit",l()(u().mark((function e(){var t,r,i,a,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.state.isAwaitingAnswer){e.next=2;break}return e.abrupt("return");case 2:if(t=n.state.answer,r=n.state.fetchedQuestion&&n.state.fetchedQuestion.question_level||1,t){e.next=6;break}return e.abrupt("return");case 6:return n.setState({isAwaitingAnswer:!0}),i={answer:t},e.next=10,(0,z.V)(_.hY.answerQuestion,i);case 10:if(a=e.sent,s=a.data,A.k.sendUserLog({type:A.k.answeredQuestion,question_level:r}),!s.result){e.next=15;break}return e.abrupt("return",n.proceedToNextLevel());case 15:n.setState({isAwaitingAnswer:!1,incorrect:!0});case 16:case"end":return e.stop()}}),e)})))),m()(p()(n),"proceedToNextLevel",(function(){A.k.sendUserLog({type:A.k.accessQuestion,question_level:(n.state.fetchedQuestion&&n.state.fetchedQuestion.question_level||0)+1}),n.setState({fetchedQuestion:null,isAwaitingAnswer:!1,incorrect:!1,value:""})})),m()(p()(n),"resetError",(function(){return n.setState({incorrect:!1})})),n}v()(t,e);var n=t.prototype;return n.componentDidMount=function(){if(!x.isLoggedIn)return(0,b.uX)("/login?next=/play");A.k.sendUserLog(A.k.pageViewPlay),this.fetchQuestion()},n.componentDidUpdate=function(){if(null==this.state.fetchedQuestion)return this.fetchQuestion()},n.fetchQuestion=function(){var e=l()(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.isFetching&&(x.eventBegan||x.userData.is_admin)){e.next=2;break}return e.abrupt("return");case 2:return this.setState({isFetching:!0}),e.next=5,(0,z.A)(_.hY.getQuestion);case 5:if(!(t=e.sent).error){e.next=8;break}return e.abrupt("return",this.setState({hasError:!0,isFetching:!1,fetchedQuestion:1}));case 8:n=t.data,this.setState({fetchedQuestion:n,isFetching:!1});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.render=function(e,t){return x.isLoggedIn&&x.userData.is_disqualified?(0,b.az)("div",{class:{fontSize:"4rem"},children:"Disqualified!"}):x.eventBegan||x.isLoggedIn&&x.userData.is_admin?(0,b.az)(b.HY,{children:[t.incorrect&&(0,b.az)(b.HY,{children:[(0,b.az)("div",{class:"mask"}),(0,b.az)(S.OK,{errorHead:"Nope",reasons:["That is not the right answer"],close:this.resetError})]}),t.isFetching||!t.fetchedQuestion?L:(0,b.az)(I,{data:t.fetchedQuestion,value:t.answer,onInput:this.onInput,onSubmit:this._submit}),t.isAwaitingAnswer&&"Checking your answer..."]}):(0,b.az)("div",{style:{fontSize:"4rem"},children:"Not yet"})},t}(b.wA),q={autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:!1,style:{width:"90%"}};function I(e){var t,n=e.data,r=e.value,a=e.onInput,o=e.onSubmit,u=e.disableInput;return n.game_over?"You win (?)":(0,b.az)("form",{action:"javascript:",onSubmit:o,children:[(0,b.az)("div",{class:"question-num",children:["Question - ",n.question_level]}),(0,b.az)("div",{class:"question-card",children:[(0,b.az)("div",{children:E(n.question)}),(0,b.az)("div",{class:"question-hint",children:n.hint&&!!n.hint.length&&s()(t=n.hint).call(t,(function(e,t){return(0,b.az)(D,{data:e,i:t})}))}),!u&&(0,b.az)("input",i()({class:"paper-input",placeholder:"Answer",onInput:a,value:r},q))]}),!u&&(0,b.az)("button",{class:"action-button heading-text sbm-button hoverable",children:"Submit"})]})}function E(e){if("string"==typeof e)return e;var t=e.type,n=e.value;return"text"===t?n:"link"===t?(0,b.az)("a",{target:"_blank",href:n,style:{textDecoration:"underline",color:"var(--spec-color)",wordBreak:"break-all"},children:n}):void 0}function D(e){var t=e.data,n=e.i;return t&&!!t.value&&(0,b.az)("div",{children:["Hint "+(n+1)+": ",E(t)]})}},9067:function(e,t,n){"use strict";n.d(t,{OK:function(){return u},Pt:function(){return c},GI:function(){return l}});var r=n(2991),i=n.n(r),a=n(1942),s=n.n(a),o=n(2386);function u(e){return(0,o.az)(l,s()(s()({},e),{},{title:"Something Ain't Right"}))}var c=/([^\w]|_)/g;function l(e){var t;return(0,o.az)("div",{class:"app-popup",children:[(0,o.az)("div",{class:"heading-text clr app-popup-title",children:e.title}),(0,o.az)("div",{children:e.errorHead}),(0,o.az)("div",{class:"err-reasons",children:(0,o.az)("div",{children:i()(t=e.reasons||[]).call(t,(function(e){return(0,o.az)("div",{children:[" - ",e]})}))})}),(0,o.az)("button",{class:"app-popup-close",onClick:e.close,children:"OK"})]})}},1103:function(e,t,n){n(5160);var r=n(4058);e.exports=r.Date.now},5160:function(e,t,n){n(6887)({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}})},7784:function(e,t,n){var r=n(1103);e.exports=r},5306:function(e,t,n){"use strict";var r=n(7007),i=n(9670),a=n(7908),s=n(7466),o=n(9958),u=n(4488),c=n(1530),l=n(7651),d=Math.max,h=Math.min,f=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,g=/\$([$&'`]|\d\d?)/g;r("replace",2,(function(e,t,n,r){var v=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,w=r.REPLACE_KEEPS_$0,m=v?"$":"$0";return[function(n,r){var i=u(this),a=null==n?void 0:n[e];return void 0!==a?a.call(n,i,r):t.call(String(i),n,r)},function(e,r){if(!v&&w||"string"==typeof r&&-1===r.indexOf(m)){var a=n(t,e,this,r);if(a.done)return a.value}var u=i(e),f=String(this),p="function"==typeof r;p||(r=String(r));var g=u.global;if(g){var k=u.unicode;u.lastIndex=0}for(var _=[];;){var z=l(u,f);if(null===z)break;if(_.push(z),!g)break;""===String(z[0])&&(u.lastIndex=c(f,s(u.lastIndex),k))}for(var S,A="",x=0,y=0;y<_.length;y++){z=_[y];for(var L=String(z[0]),Q=d(h(o(z.index),f.length),0),q=[],I=1;I<z.length;I++)q.push(void 0===(S=z[I])?S:String(S));var E=z.groups;if(p){var D=[L].concat(q,Q,f);void 0!==E&&D.push(E);var P=String(r.apply(void 0,D))}else P=b(L,f,Q,q,E,r);Q>=x&&(A+=f.slice(x,Q)+P,x=Q+L.length)}return A+f.slice(x)}];function b(e,n,r,i,s,o){var u=r+e.length,c=i.length,l=g;return void 0!==s&&(s=a(s),l=p),t.call(o,l,(function(t,a){var o;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,r);case"'":return n.slice(u);case"<":o=s[a.slice(1,-1)];break;default:var l=+a;if(0===l)return t;if(l>c){var d=f(l/10);return 0===d?t:d<=c?void 0===i[d-1]?a.charAt(1):i[d-1]+a.charAt(1):t}o=i[l-1]}return void 0===o?"":o}))}}))}}]);