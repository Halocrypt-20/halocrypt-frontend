(window.webpackJsonp=window.webpackJsonp||[]).push([[564],{1128:function(t,e,n){t.exports=n(7784)},6007:function(t,e,n){"use strict";n.d(e,{u:function(){return m},k:function(){return b}});n(1539),n(8674);var r,i=n(1128),o=n.n(i),a=n(3032),s=n.n(a),u=n(875),c=n.n(u),l=n(4103),d=n.n(l),p=n(77),h=n(3735),f=n(4383),v=n(9369),g=(0,v.Z)({},window.__initConfig);window.__initConfig=null;var w=f.h.getStore(),m=window.requestIdleCallback||window.requestAnimationFrame||window.Promise&&d()(r=c().prototype.then).call(r,c().resolve())||s(),b=new(function(){function t(){this.pageViewRegistered="register-start",this.registerActionComplete="register-end",this.pageViewLogin="login-start",this.loginActionCompleted="login-end",this.pageViewPlay="play-start",this.accessQuestion="question",this.answeredQuestion="answered",this.leaderboardView="leaderboard",this.profileView="profile",this.passwordResetRequested="password-reset"}var e=t.prototype;return e.__shouldPostLog=function(){return!p.mH},e._admin_getLogs=function(){if(w.isLoggedIn&&w.userData.is_admin)return(0,h.A)(p.PW.getLogs)},e.sendUserLog=function(t){var e="string"==typeof t?{type:t}:t,n=(0,v.Z)({},e,g);this.__shouldPostLog()?m((function(){return(0,h.V)(p.PW.addLog,n)})):console.log("prod log post ->",n)},t}());window.onerror=function(t,e,n,r,i){var a=i||{};t=t||a.message||"";var s=i.line||a.message||0,u=i.column||0,c=a.script||"",l=a.stackTrace||a.stack||"",d=o()(),p=location.href;b.sendUserLog({type:"js-error",timestamp:d,message:t,line:s,column:u,script:c,stack:l,url:p,source:e})}},1564:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return Q},Question:function(){return F}});n(4916),n(5306);var r=n(1942),i=n.n(r),o=n(2991),a=n.n(o),s=n(3109),u=n.n(s),c=(n(5666),n(1161)),l=n.n(c),d=n(7766),p=n.n(d),h=n(1222),f=n.n(h),v=n(4382),g=n.n(v),w=n(7672),m=n.n(w),b=n(2386),y=n(4383),_=n(77),x=n(3735),S=(n(9710),n(9067)),k=n(6007),z=y.h.getStore(),A=function(t){return(t||"").toLowerCase().replace(/\s/g,"")},I=(0,b.az)(F,{data:{question_level:"Loading",question:"Finding your question",hint:[]}}),Q=function(t){function e(){for(var e,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,p()(e=[this]).call(e,i))||this,m()(f()(n),"state",{fetchedQuestion:null,isFetching:!1,answer:"",isAwaitingAnswer:!1,incorrect:!1}),m()(f()(n),"onInput",(function(t){return n.setState({answer:A(t.target.value)})})),m()(f()(n),"_submit",l()(u().mark((function t(){var e,r,i,o,a;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.state.isAwaitingAnswer){t.next=2;break}return t.abrupt("return");case 2:if(n.setState({isAwaitingAnswer:!0}),e=n.state.answer,r=n.state.fetchedQuestion&&n.state.fetchedQuestion.question_level||1,e){t.next=7;break}return t.abrupt("return");case 7:return i={answer:e},t.next=10,(0,x.V)(_.hY.answerQuestion,i);case 10:if(o=t.sent,a=o.data,k.k.sendUserLog({type:k.k.answeredQuestion,question_level:r}),!a.result){t.next=15;break}return t.abrupt("return",n.proceedToNextLevel());case 15:n.setState({isAwaitingAnswer:!1,incorrect:!0});case 16:case"end":return t.stop()}}),t)})))),m()(f()(n),"proceedToNextLevel",(function(){k.k.sendUserLog({type:k.k.accessQuestion,question_level:(n.state.fetchedQuestion&&n.state.fetchedQuestion.question_level||0)+1}),n.setState({fetchedQuestion:null})})),m()(f()(n),"resetError",(function(){return n.setState({incorrect:!1})})),n}g()(e,t);var n=e.prototype;return n.componentDidMount=function(){if(!z.isLoggedIn)return(0,b.uX)("/login?next=/play");k.k.sendUserLog(k.k.pageViewPlay),this.fetchQuestion()},n.componentDidUpdate=function(){if(null==this.state.fetchedQuestion)return this.fetchQuestion()},n.fetchQuestion=function(){var t=l()(u().mark((function t(){var e,n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.state.isFetching&&z.eventBegan){t.next=2;break}return t.abrupt("return");case 2:return this.setState({isFetching:!0}),t.next=5,(0,x.A)(_.hY.getQuestion);case 5:if(!(e=t.sent).error){t.next=8;break}return t.abrupt("return",this.setState({hasError:!0,isFetching:!1,fetchedQuestion:1}));case 8:n=e.data,this.setState({fetchedQuestion:n,isFetching:!1});case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),n.render=function(t,e){return z.eventBegan?(0,b.az)(b.HY,{children:[e.incorrect&&(0,b.az)(b.HY,{children:[(0,b.az)("div",{class:"mask"}),(0,b.az)(S.OK,{errorHead:"Nope",reasons:["That is not the right answer"],close:this.resetError})]}),e.isFetching||!e.fetchedQuestion?I:(0,b.az)(F,{data:e.fetchedQuestion,value:e.answer,onInput:this.onInput,onSubmit:this._submit}),e.isAwaitingAnswer&&"Checking your answer..."]}):(0,b.az)("div",{style:{fontSize:"4rem"},children:"Not yet"})},e}(b.wA),L={autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:!1,style:{width:"90%"}};function F(t){var e,n=t.data,r=t.value,o=t.onInput,s=t.onSubmit,u=t.disableInput;return n.game_over?"You win (?)":(0,b.az)("form",{action:"javascript:",onSubmit:s,children:[(0,b.az)("div",{class:"question-num",children:["Question - ",n.question_level]}),(0,b.az)("div",{class:"question-card",children:[(0,b.az)("div",{children:n.question}),(0,b.az)("div",{class:"question-hint",children:n.hint&&!!n.hint.length&&a()(e=n.hint).call(e,(function(t,e){return(0,b.az)(P,{data:t,i:e})}))}),!u&&(0,b.az)("input",i()({class:"paper-input",placeholder:"Answer",onInput:o,value:r},L))]}),!u&&(0,b.az)("button",{class:"action-button heading-text sbm-button hoverable",children:"Submit"})]})}function q(t){if("string"==typeof t)return t;var e=t.type,n=t.value;return"text"===e?n:"link"===e?(0,b.az)("a",{target:"_blank",href:n,style:{textDecoration:"underline",color:"var(--spec-color)"},children:n}):void 0}function P(t){var e=t.data,n=t.i;return e&&!!e.value&&(0,b.az)("div",{children:["Hint "+(n+1)+": ",q(e)]})}},9710:function(t,e,n){"use strict";n.d(e,{H:function(){return f}});var r=n(1942),i=n.n(r),o=n(7766),a=n.n(o),s=n(1222),u=n.n(s),c=n(4382),l=n.n(c),d=n(7672),p=n.n(d),h=n(2386),f=function(t){function e(){for(var e,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,a()(e=[this]).call(e,i))||this,p()(u()(n),"state",{id:Math.random(),isFocused:!1,value:n.props.value||""}),p()(u()(n),"onFocus",(function(){return!n.state.value&&n.setState({isFocused:!0,moveDown:!1})})),p()(u()(n),"onBlur",(function(){return!n.state.value&&n.setState({isFocused:!1,moveDown:!0})})),p()(u()(n),"onInput",(function(t){return n.setState({value:t.target.value})})),p()(u()(n),"__onInput",(function(t){var e=n.props.onInput;n.onInput(t),null!=e&&e(t)})),n}return l()(e,t),e.prototype.render=function(t,e){var n=t.idx,r=t.labelText,i=void 0===r?"":r,o=t.type,a=void 0===o?"text":o,s=t.inputClass,u=t.extraProps,c=e.isFocused,l=e.moveDown,d=n||this.state.id,p=this.state.value,f=["_animate",c||p?"moveup":"",l?"movedown":""];return(0,h.h)("div",{class:"user-input-anim "+(s||"")},(0,h.h)("label",{class:f,for:d},i),(0,h.h)(v,{onFocus:this.onFocus,onBlur:this.onBlur,type:a,value:p,extraProps:u,id:d,onInput:this.__onInput}))},e}(h.wA);function v(t){var e=t.onFocus,n=t.onBlur,r=t.onInput,o=t.id,a=t.type,s=t.value,u=t.extraProps;return(0,h.h)("input",i()({onFocus:e,onBlur:n,onInput:r,id:o,value:s,type:a},u,{class:"paper-input"}))}},9067:function(t,e,n){"use strict";n.d(e,{OK:function(){return u},Pt:function(){return c}});var r=n(2991),i=n.n(r),o=n(1942),a=n.n(o),s=n(2386);function u(t){return(0,s.az)(l,a()({},t,{title:"Something Ain't Right"}))}var c=/([^\w]|_)/g;function l(t){var e;return(0,s.az)("div",{class:"app-popup",children:[(0,s.az)("div",{class:"heading-text clr app-popup-title",children:"props.title"}),(0,s.az)("div",{children:t.errorHead}),(0,s.az)("div",{class:"err-reasons",children:(0,s.az)("div",{children:i()(e=t.reasons).call(e,(function(t){return(0,s.az)("div",{children:[" - ",t]})}))})}),(0,s.az)("button",{class:"app-popup-close",onClick:t.close,children:"OK"})]})}},1103:function(t,e,n){n(5160);var r=n(4058);t.exports=r.Date.now},5160:function(t,e,n){n(6887)({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}})},7784:function(t,e,n){var r=n(1103);t.exports=r},5306:function(t,e,n){"use strict";var r=n(7007),i=n(9670),o=n(7908),a=n(7466),s=n(9958),u=n(4488),c=n(1530),l=n(7651),d=Math.max,p=Math.min,h=Math.floor,f=/\$([$&'`]|\d\d?|<[^>]*>)/g,v=/\$([$&'`]|\d\d?)/g;r("replace",2,(function(t,e,n,r){var g=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,w=r.REPLACE_KEEPS_$0,m=g?"$":"$0";return[function(n,r){var i=u(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,i,r):e.call(String(i),n,r)},function(t,r){if(!g&&w||"string"==typeof r&&-1===r.indexOf(m)){var o=n(e,t,this,r);if(o.done)return o.value}var u=i(t),h=String(this),f="function"==typeof r;f||(r=String(r));var v=u.global;if(v){var y=u.unicode;u.lastIndex=0}for(var _=[];;){var x=l(u,h);if(null===x)break;if(_.push(x),!v)break;""===String(x[0])&&(u.lastIndex=c(h,a(u.lastIndex),y))}for(var S,k="",z=0,A=0;A<_.length;A++){x=_[A];for(var I=String(x[0]),Q=d(p(s(x.index),h.length),0),L=[],F=1;F<x.length;F++)L.push(void 0===(S=x[F])?S:String(S));var q=x.groups;if(f){var P=[I].concat(L,Q,h);void 0!==q&&P.push(q);var E=String(r.apply(void 0,P))}else E=b(I,h,Q,L,q,r);Q>=z&&(k+=h.slice(z,Q)+E,z=Q+I.length)}return k+h.slice(z)}];function b(t,n,r,i,a,s){var u=r+t.length,c=i.length,l=v;return void 0!==a&&(a=o(a),l=f),e.call(s,l,(function(e,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,r);case"'":return n.slice(u);case"<":s=a[o.slice(1,-1)];break;default:var l=+o;if(0===l)return e;if(l>c){var d=h(l/10);return 0===d?e:d<=c?void 0===i[d-1]?o.charAt(1):i[d-1]+o.charAt(1):e}s=i[l-1]}return void 0===s?"":s}))}}))}}]);