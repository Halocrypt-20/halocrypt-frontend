(window.webpackJsonp=window.webpackJsonp||[]).push([[894],{26007:function(t,e,n){"use strict";n.d(e,{k:function(){return b}});n(66992),n(69600),n(39575),n(41539),n(88674),n(82472),n(92990),n(18927),n(33105),n(35035),n(74345),n(7174),n(32846),n(44731),n(77209),n(96319),n(58867),n(37789),n(33739),n(29368),n(14483),n(12056),n(3462),n(30678),n(27462),n(33824),n(55021),n(12974),n(15016);var r,o=n(11128),a=n.n(o),s=n(33032),i=n.n(s),u=n(93476),l=n.n(u),c=n(54103),d=n.n(c),p=n(80077),h=n(73735),f=n(74383),g=n(59369),v=(0,g.Z)({session:function(){if("crypto"in self)return crypto.getRandomValues(new Uint8Array(10)).join("-");return String(Math.random())}()},window.__initConfig);window.__initConfig=null;var w=f.h.getStore(),m=window.requestIdleCallback||window.requestAnimationFrame||window.Promise&&d()(r=l().prototype.then).call(r,l().resolve())||i(),b=new(function(){function t(){this.pageViewRegistered="register-start",this.registerActionComplete="register-end",this.pageViewLogin="login-start",this.loginActionCompleted="login-end",this.pageViewPlay="play-start",this.accessQuestion="question",this.answeredQuestion="answered",this.leaderboardView="leaderboard",this.profileView="profile"}var e=t.prototype;return e.__shouldPostLog=function(){return!p.mH},e._admin_getLogs=function(){if(w.isLoggedIn&&w.userData.is_admin)return(0,h.A)(p.PW.getLogs)},e.sendUserLog=function(t){var e="string"==typeof t?{type:t}:t,n=(0,g.Z)({},e,v);this.__shouldPostLog()?m((function(){return(0,h.V)(p.PW.addLog,n)})):console.log("prod log post ->",n)},t}());window.onerror=function(t,e,n,r,o){var s=o||{};t=t||s.message||"";var i=o.line||s.message||0,u=o.column||0,l=s.script||"",c=s.stackTrace||s.stack||"",d=a()(),p=location.href;b.sendUserLog({type:"js-error",timestamp:d,message:t,line:i,column:u,script:l,stack:c,url:p,source:e})}},21894:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return A}});var r=n(81643),o=n.n(r),a=n(25843),s=n.n(a),i=n(94435),u=n.n(i),l=n(63109),c=n.n(l),d=(n(35666),n(51161)),p=n.n(d),h=n(77766),f=n.n(h),g=n(5824),v=n.n(g),w=n(94382),m=n.n(w),b=n(87672),y=n.n(b),x=n(12386),z=n(79067),k=n(9710),S=n(48118),_=n(33662),C=n(74383),L=n(26007),I=C.h.getStore(),A=function(t){function e(){for(var e,n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,f()(e=[this]).call(e,o))||this,y()(v()(n),"state",{user:"",password:""}),y()(v()(n),"componentDidUpdate",n.loginCheck),y()(v()(n),"onSubmit",p()(c().mark((function t(){var e,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.state.loading){t.next=2;break}return t.abrupt("return");case 2:return n.setState({loading:!0}),t.next=5,S.y.auth({user:n.state.user,password:n.state.password});case 5:if(!(e=t.sent).error){t.next=8;break}return t.abrupt("return",n.setState({hasError:!0,error:e.error,loading:!1}));case 8:if(L.k.sendUserLog(L.k.loginActionCompleted),!(r=n.state.next)||P(r)){t.next=12;break}return t.abrupt("return",(0,x.uX)(r));case 12:return t.abrupt("return",(0,x.uX)("/profile"));case 13:case"end":return t.stop()}}),t)})))),y()(v()(n),"resetError",(function(){return n.setState({hasError:!1,error:null})})),n}m()(e,t);var n=e.prototype;return n.loginCheck=function(){if(I.isLoggedIn){var t=this.state.next;return t&&!P(t)?(0,x.uX)(t):(0,x.uX)("/profile")}},n.componentDidMount=function(){L.k.sendUserLog(L.k.pageViewLogin);var e=new(u())(x.F0.getQs).get("next");e&&this.setState({next:e}),t.prototype.componentDidMount.call(this),this.loginCheck()},n.onInput=function(t){var e=this;return function(n){var r,o,a=n.target.value;"password"!==n&&(a=s()(o=a||"").call(o));e.setState(((r={})[t]=a||"",r))}},n.render=function(t,e){return(0,x.az)("div",{class:"form-doc",children:[(0,x.az)("div",{class:"form-title heading-text",children:"Login"}),e.hasError&&(0,x.az)(F,{close:this.resetError,reason:e.error}),(0,x.az)("div",{class:"form-stx",children:[(0,x.az)("form",{action:"javascript:",onsubmit:this.onSubmit,children:[(0,x.az)(k.H,{inputClass:"form-anim",value:this.state.user,type:"text",labelText:"username",onInput:this.onInput("user")}),(0,x.az)(k.H,{inputClass:"form-anim",value:this.state.password,type:"password",labelText:"password",onInput:this.onInput("password")}),(0,x.az)("button",{class:"heading-text submit-button hoverable",children:"Login"}),e.loading&&(0,x.az)("div",{children:"Just a sec, checking your credentials"})]}),(0,x.az)("div",{children:(0,x.az)("div",{class:"inst",children:[(0,x.az)(x.A,{href:"/register",class:"heading-text clr hoverable",children:"New User?"}),(0,x.az)(x.A,{href:"/forgot-password",class:"heading-text clr hoverable",style:{marginLeft:"auto"},children:"Forgot Password?"})]})})]})]})},e}(_.Z);function F(t){return(0,x.az)(x.HY,{children:[(0,x.az)("div",{class:"mask child"}),(0,x.az)(z.O,{errorHead:"Can't Login",close:t.close,reasons:[t.reason]})]})}var P=function(t){return o()(t).call(t,"://")>0||0===o()(t).call(t,"//")}},33662:function(t,e,n){"use strict";n.d(e,{Z:function(){return h}});var r=n(77766),o=n.n(r),a=n(5824),s=n.n(a),i=n(94382),u=n.n(i),l=n(87672),c=n.n(l),d=n(12386),p=n(74383),h=function(t){function e(){for(var e,n,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=t.call.apply(t,o()(e=[this]).call(e,a))||this,c()(s()(n),"_globalStoreStateChanged",(function(){return n.setState({hasNewData:!0})})),n}u()(e,t);var n=e.prototype;return n.componentDidMount=function(){p.h.subscribe(this._globalStoreStateChanged)},n.componentWillUnmount=function(){p.h.unsubscribe(this._globalStoreStateChanged)},e}(d.wA)},9710:function(t,e,n){"use strict";n.d(e,{H:function(){return f}});var r=n(51942),o=n.n(r),a=n(77766),s=n.n(a),i=n(5824),u=n.n(i),l=n(94382),c=n.n(l),d=n(87672),p=n.n(d),h=n(12386),f=function(t){function e(){for(var e,n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,s()(e=[this]).call(e,o))||this,p()(u()(n),"state",{id:Math.random(),isFocused:!1,value:n.props.value||""}),p()(u()(n),"onFocus",(function(){return!n.state.value&&n.setState({isFocused:!0,moveDown:!1})})),p()(u()(n),"onBlur",(function(){return!n.state.value&&n.setState({isFocused:!1,moveDown:!0})})),p()(u()(n),"onInput",(function(t){return n.setState({value:t.target.value})})),p()(u()(n),"__onInput",(function(t){var e=n.props.onInput;n.onInput(t),null!=e&&e(t)})),n}return c()(e,t),e.prototype.render=function(t,e){var n=t.idx,r=t.labelText,o=void 0===r?"":r,a=t.type,s=void 0===a?"text":a,i=t.inputClass,u=t.extraProps,l=e.isFocused,c=e.moveDown,d=n||this.state.id,p=this.state.value,f=["_animate",l||p?"moveup":"",c?"movedown":""];return(0,h.h)("div",{class:"user-input-anim "+(i||"")},(0,h.h)("label",{class:f,for:d},o),(0,h.h)(g,{onFocus:this.onFocus,onBlur:this.onBlur,type:s,value:p,extraProps:u,id:d,onInput:this.__onInput}))},e}(h.wA);function g(t){var e=t.onFocus,n=t.onBlur,r=t.onInput,a=t.id,s=t.type,i=t.value,u=t.extraProps;return(0,h.h)("input",o()({onFocus:e,onBlur:n,onInput:r,id:a,value:i,type:s},u,{class:"paper-input"}))}},79067:function(t,e,n){"use strict";n.d(e,{O:function(){return s},P:function(){return i}});var r=n(2991),o=n.n(r),a=n(12386);function s(t){var e;return(0,a.az)("div",{class:"app-popup",children:[(0,a.az)("div",{class:"heading-text clr app-popup-title",children:"Something Ain't Right"}),(0,a.az)("div",{children:t.errorHead}),(0,a.az)("div",{class:"err-reasons",children:(0,a.az)("div",{children:o()(e=t.reasons).call(e,(function(t){return(0,a.az)("div",{children:[" - ",t]})}))})}),(0,a.az)("button",{class:"app-popup-close",onClick:t.close,children:"OK"})]})}var i=/([^\w]|_)/g}}]);