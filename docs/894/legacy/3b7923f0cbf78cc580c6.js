(window.webpackJsonp=window.webpackJsonp||[]).push([[894],{26007:function(t,n,e){"use strict";e.d(n,{k:function(){return b}});e(66992),e(69600),e(39575),e(41539),e(88674),e(82472),e(92990),e(18927),e(33105),e(35035),e(74345),e(7174),e(32846),e(44731),e(77209),e(96319),e(58867),e(37789),e(33739),e(29368),e(14483),e(12056),e(3462),e(30678),e(27462),e(33824),e(55021),e(12974),e(15016);var r,o=e(11128),s=e.n(o),a=e(33032),i=e.n(a),u=e(93476),c=e.n(u),l=e(54103),d=e.n(l),p=e(80077),h=e(73735),f=e(74383),g=e(59369),v=(0,g.Z)({session:function(){if("crypto"in self)return crypto.getRandomValues(new Uint8Array(10)).join("-");return String(Math.random())}()},window.__initConfig);window.__initConfig=null;var w=f.h.getStore(),m=window.requestIdleCallback||window.requestAnimationFrame||window.Promise&&d()(r=c().prototype.then).call(r,c().resolve())||i(),b=new(function(){function t(){this.pageViewRegistered="register-start",this.registerActionComplete="register-end",this.pageViewLogin="login-start",this.loginActionCompleted="login-end",this.pageViewPlay="play-start",this.accessQuestion="question",this.answeredQuestion="answered",this.leaderboardView="leaderboard",this.profileView="profile"}var n=t.prototype;return n.__shouldPostLog=function(){return!p.mH},n._admin_getLogs=function(){if(w.isLoggedIn&&w.userData.is_admin)return(0,h.A)(p.PW.getLogs)},n.sendUserLog=function(t){var n="string"==typeof t?{type:t}:t,e=(0,g.Z)({},n,v);this.__shouldPostLog()?m((function(){return(0,h.V)(p.PW.addLog,e)})):console.log("prod log post ->",e)},n.sendErrorLog=function(t){var n=this;m((function(){return n.sendUserLog(t)}))},t}());window.onerror=function(t,n,e,r,o){var a=o||{};t=t||a.message||"";var i=err.line||a.message||0,u=err.column||0,c=a.script||"",l=a.stackTrace||a.stack||"",d=s()(),p=location.href;b.sendErrorLog({type:"js-error",timestamp:d,message:t,line:i,column:u,script:c,stack:l,url:p,source:n})}},21894:function(t,n,e){"use strict";e.r(n),e.d(n,{default:function(){return A}});var r=e(81643),o=e.n(r),s=e(25843),a=e.n(s),i=e(94435),u=e.n(i),c=e(63109),l=e.n(c),d=(e(35666),e(51161)),p=e.n(d),h=e(77766),f=e.n(h),g=e(5824),v=e.n(g),w=e(94382),m=e.n(w),b=e(87672),y=e.n(b),x=e(12386),z=e(79067),S=e(9710),k=e(48118),_=e(33662),L=e(74383),C=e(26007),I=L.h.getStore(),A=function(t){function n(){for(var n,e,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return e=t.call.apply(t,f()(n=[this]).call(n,o))||this,y()(v()(e),"state",{user:"",password:""}),y()(v()(e),"componentDidUpdate",e.loginCheck),y()(v()(e),"onSubmit",p()(l().mark((function t(){var n,r;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),t.next=3,k.y.auth({user:e.state.user,password:e.state.password});case 3:if(!(n=t.sent).error){t.next=6;break}return t.abrupt("return",e.setState({hasError:!0,error:n.error,loading:!1}));case 6:if(C.k.sendUserLog(C.k.loginActionCompleted),!(r=e.state.next)||P(r)){t.next=10;break}return t.abrupt("return",(0,x.uX)(r));case 10:return t.abrupt("return",(0,x.uX)("/profile"));case 11:case"end":return t.stop()}}),t)})))),y()(v()(e),"resetError",(function(){return e.setState({hasError:!1,error:null})})),e}m()(n,t);var e=n.prototype;return e.loginCheck=function(){if(I.isLoggedIn){var t=this.state.next;return t&&!P(t)?(0,x.uX)(t):(0,x.uX)("/profile")}},e.componentDidMount=function(){C.k.sendUserLog(C.k.pageViewLogin);var n=new(u())(x.F0.getQs).get("next");n&&this.setState({next:n}),t.prototype.componentDidMount.call(this),this.loginCheck()},e.onInput=function(t){var n=this;return function(e){var r,o,s=e.target.value;"password"!==e&&(s=a()(o=s||"").call(o));n.setState(((r={})[t]=s||"",r))}},e.render=function(t,n){return(0,x.az)("div",{class:"form-doc",children:[(0,x.az)("div",{class:"form-title heading-text",children:"Login"}),n.hasError&&(0,x.az)(F,{close:this.resetError,reason:n.error}),(0,x.az)("div",{class:"form-stx",children:[(0,x.az)("form",{action:"javascript:",onsubmit:this.onSubmit,children:[(0,x.az)(S.H,{inputClass:"form-anim",value:this.state.user,type:"text",labelText:"username",onInput:this.onInput("user")}),(0,x.az)(S.H,{inputClass:"form-anim",value:this.state.password,type:"password",labelText:"password",onInput:this.onInput("password")}),(0,x.az)("button",{class:"heading-text submit-button hoverable",children:"Login"}),n.loading&&(0,x.az)("div",{children:"Just a sec, checking your credentials"})]}),(0,x.az)("div",{children:(0,x.az)("div",{class:"inst",children:[(0,x.az)(x.A,{href:"/register",class:"heading-text clr hoverable",children:"New User?"}),(0,x.az)(x.A,{href:"/forgot-password",class:"heading-text clr hoverable",style:{marginLeft:"auto"},children:"Forgot Password?"})]})})]})]})},n}(_.Z);function F(t){return(0,x.az)(x.HY,{children:[(0,x.az)("div",{class:"mask child"}),(0,x.az)(z.O,{errorHead:"Can't Login",close:t.close,reasons:[t.reason]})]})}var P=function(t){return o()(t).call(t,"://")>0||0===o()(t).call(t,"//")}},33662:function(t,n,e){"use strict";e.d(n,{Z:function(){return h}});var r=e(77766),o=e.n(r),s=e(5824),a=e.n(s),i=e(94382),u=e.n(i),c=e(87672),l=e.n(c),d=e(12386),p=e(74383),h=function(t){function n(){for(var n,e,r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return e=t.call.apply(t,o()(n=[this]).call(n,s))||this,l()(a()(e),"_globalStoreStateChanged",(function(){return e.setState({hasNewData:!0})})),e}u()(n,t);var e=n.prototype;return e.componentDidMount=function(){p.h.subscribe(this._globalStoreStateChanged)},e.componentWillUnmount=function(){p.h.unsubscribe(this._globalStoreStateChanged)},n}(d.wA)},9710:function(t,n,e){"use strict";e.d(n,{H:function(){return f}});var r=e(51942),o=e.n(r),s=e(77766),a=e.n(s),i=e(5824),u=e.n(i),c=e(94382),l=e.n(c),d=e(87672),p=e.n(d),h=e(12386),f=function(t){function n(){for(var n,e,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return e=t.call.apply(t,a()(n=[this]).call(n,o))||this,p()(u()(e),"state",{id:Math.random(),isFocused:!1,value:e.props.value||""}),p()(u()(e),"onFocus",(function(){return!e.state.value&&e.setState({isFocused:!0,moveDown:!1})})),p()(u()(e),"onBlur",(function(){return!e.state.value&&e.setState({isFocused:!1,moveDown:!0})})),p()(u()(e),"onInput",(function(t){return e.setState({value:t.target.value})})),p()(u()(e),"__onInput",(function(t){var n=e.props.onInput;e.onInput(t),null!=n&&n(t)})),e}return l()(n,t),n.prototype.render=function(t,n){var e=t.idx,r=t.labelText,o=void 0===r?"":r,s=t.type,a=void 0===s?"text":s,i=t.inputClass,u=t.extraProps,c=n.isFocused,l=n.moveDown,d=e||this.state.id,p=this.state.value,f=["_animate",c||p?"moveup":"",l?"movedown":""];return(0,h.h)("div",{class:"user-input-anim "+(i||"")},(0,h.h)("label",{class:f,for:d},o),(0,h.h)(g,{onFocus:this.onFocus,onBlur:this.onBlur,type:a,value:p,extraProps:u,id:d,onInput:this.__onInput}))},n}(h.wA);function g(t){var n=t.onFocus,e=t.onBlur,r=t.onInput,s=t.id,a=t.type,i=t.value,u=t.extraProps;return(0,h.h)("input",o()({onFocus:n,onBlur:e,onInput:r,id:s,value:i,type:a},u,{class:"paper-input"}))}},79067:function(t,n,e){"use strict";e.d(n,{O:function(){return a},P:function(){return i}});var r=e(2991),o=e.n(r),s=e(12386);function a(t){var n;return(0,s.az)("div",{class:"app-popup",children:[(0,s.az)("div",{class:"heading-text clr app-popup-title",children:"Something Ain't Right"}),(0,s.az)("div",{children:t.errorHead}),(0,s.az)("div",{class:"err-reasons",children:(0,s.az)("div",{children:o()(n=t.reasons).call(n,(function(t){return(0,s.az)("div",{children:[" - ",t]})}))})}),(0,s.az)("button",{class:"app-popup-close",onClick:t.close,children:"OK"})]})}var i=/([^\w]|_)/g}}]);