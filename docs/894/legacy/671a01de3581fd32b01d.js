(window.webpackJsonp=window.webpackJsonp||[]).push([[894],{1128:function(t,e,n){t.exports=n(7784)},6007:function(t,e,n){"use strict";n.d(e,{u:function(){return m},k:function(){return b}});n(1539),n(8674);var r,o=n(1128),s=n.n(o),a=n(3032),i=n.n(a),u=n(875),c=n.n(u),l=n(4103),d=n.n(l),p=n(77),h=n(3735),f=n(4383),g=n(9369),v=(0,g.Z)({},window.__initConfig);window.__initConfig=null;var w=f.h.getStore(),m=window.requestIdleCallback||window.requestAnimationFrame||window.Promise&&d()(r=c().prototype.then).call(r,c().resolve())||i(),b=new(function(){function t(){this.pageViewRegistered="register-start",this.registerActionComplete="register-end",this.pageViewLogin="login-start",this.loginActionCompleted="login-end",this.pageViewPlay="play-start",this.accessQuestion="question",this.answeredQuestion="answered",this.leaderboardView="leaderboard",this.profileView="profile",this.passwordResetRequested="password-reset"}var e=t.prototype;return e.__shouldPostLog=function(){return!p.mH},e._admin_getLogs=function(){if(w.isLoggedIn&&w.userData.is_admin)return(0,h.A)(p.PW.getLogs)},e.sendUserLog=function(t){var e="string"==typeof t?{type:t}:t,n=(0,g.Z)({},e,v);this.__shouldPostLog()?m((function(){return(0,h.V)(p.PW.addLog,n)})):console.log("prod log post ->",n)},t}());window.onerror=function(t,e,n,r,o){var a=o||{};t=t||a.message||"";var i=o.line||a.message||0,u=o.column||0,c=a.script||"",l=a.stackTrace||a.stack||"",d=s()(),p=location.href;b.sendUserLog({type:"js-error",timestamp:d,message:t,line:i,column:u,script:c,stack:l,url:p,source:e})}},1894:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return A}});var r=n(1643),o=n.n(r),s=n(5843),a=n.n(s),i=n(4435),u=n.n(i),c=n(3109),l=n.n(c),d=(n(5666),n(1161)),p=n.n(d),h=n(7766),f=n.n(h),g=n(1222),v=n.n(g),w=n(4382),m=n.n(w),b=n(7672),x=n.n(b),y=n(2386),z=n(9067),k=n(9710),S=n(8118),_=n(3662),C=n(4383),L=n(6007),I=C.h.getStore(),A=function(t){function e(){for(var e,n,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return n=t.call.apply(t,f()(e=[this]).call(e,o))||this,x()(v()(n),"state",{user:"",password:""}),x()(v()(n),"componentDidUpdate",n.loginCheck),x()(v()(n),"onSubmit",p()(l().mark((function t(){var e,r;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.state.loading){t.next=2;break}return t.abrupt("return");case 2:return n.setState({loading:!0}),t.next=5,S.y.auth({user:n.state.user,password:n.state.password});case 5:if(!(e=t.sent).error){t.next=8;break}return t.abrupt("return",n.setState({hasError:!0,error:e.error,loading:!1}));case 8:if(L.k.sendUserLog(L.k.loginActionCompleted),!(r=n.state.next)||F(r)){t.next=12;break}return t.abrupt("return",(0,y.uX)(r));case 12:return t.abrupt("return",(0,y.uX)("/profile"));case 13:case"end":return t.stop()}}),t)})))),x()(v()(n),"resetError",(function(){return n.setState({hasError:!1,error:null})})),n}m()(e,t);var n=e.prototype;return n.loginCheck=function(){if(I.isLoggedIn){var t=this.state.next;return t&&!F(t)?(0,y.uX)(t):(0,y.uX)("/profile")}},n.componentDidMount=function(){L.k.sendUserLog(L.k.pageViewLogin);var e=new(u())(y.F0.getQs).get("next");e&&this.setState({next:e}),t.prototype.componentDidMount.call(this),this.loginCheck()},n.onInput=function(t){var e=this;return function(n){var r,o,s=n.target.value;"password"!==n&&(s=a()(o=s||"").call(o));e.setState(((r={})[t]=s||"",r))}},n.render=function(t,e){return(0,y.az)("div",{class:"form-doc",children:[(0,y.az)("div",{class:"form-title heading-text",children:"Login"}),e.hasError&&(0,y.az)(D,{close:this.resetError,reason:e.error}),(0,y.az)("div",{class:"form-stx",children:[(0,y.az)("form",{action:"javascript:",onsubmit:this.onSubmit,children:[(0,y.az)(k.H,{inputClass:"form-anim",value:this.state.user,type:"text",labelText:"username",onInput:this.onInput("user")}),(0,y.az)(k.H,{inputClass:"form-anim",value:this.state.password,type:"password",labelText:"password",onInput:this.onInput("password")}),(0,y.az)("button",{class:"heading-text submit-button hoverable",children:"Login"}),e.loading&&(0,y.az)("div",{children:"Just a sec, checking your credentials"})]}),(0,y.az)("div",{children:(0,y.az)("div",{class:"inst",children:[(0,y.az)(y.A,{href:"/register",class:"heading-text clr hoverable",children:"New User?"}),(0,y.az)(y.A,{href:"/forgot-password",class:"heading-text clr hoverable",style:{marginLeft:"auto"},children:"Forgot Password?"})]})})]})]})},e}(_.Z);function D(t){return(0,y.az)(y.HY,{children:[(0,y.az)("div",{class:"mask child"}),(0,y.az)(z.OK,{errorHead:"Can't Login",close:t.close,reasons:[t.reason]})]})}var F=function(t){return o()(t).call(t,"://")>0||0===o()(t).call(t,"//")}},3662:function(t,e,n){"use strict";n.d(e,{Z:function(){return h}});var r=n(7766),o=n.n(r),s=n(1222),a=n.n(s),i=n(4382),u=n.n(i),c=n(7672),l=n.n(c),d=n(2386),p=n(4383),h=function(t){function e(){for(var e,n,r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=t.call.apply(t,o()(e=[this]).call(e,s))||this,l()(a()(n),"_globalStoreStateChanged",(function(){return n.setState({hasNewData:!0})})),n}u()(e,t);var n=e.prototype;return n.componentDidMount=function(){p.h.subscribe(this._globalStoreStateChanged)},n.componentWillUnmount=function(){p.h.unsubscribe(this._globalStoreStateChanged)},e}(d.wA)},9710:function(t,e,n){"use strict";n.d(e,{H:function(){return f}});var r=n(1942),o=n.n(r),s=n(7766),a=n.n(s),i=n(1222),u=n.n(i),c=n(4382),l=n.n(c),d=n(7672),p=n.n(d),h=n(2386),f=function(t){function e(){for(var e,n,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return n=t.call.apply(t,a()(e=[this]).call(e,o))||this,p()(u()(n),"state",{id:Math.random(),isFocused:!1,value:n.props.value||""}),p()(u()(n),"onFocus",(function(){return!n.state.value&&n.setState({isFocused:!0,moveDown:!1})})),p()(u()(n),"onBlur",(function(){return!n.state.value&&n.setState({isFocused:!1,moveDown:!0})})),p()(u()(n),"onInput",(function(t){return n.setState({value:t.target.value})})),p()(u()(n),"__onInput",(function(t){var e=n.props.onInput;n.onInput(t),null!=e&&e(t)})),n}return l()(e,t),e.prototype.render=function(t,e){var n=t.id,r=t.labelText,o=void 0===r?"":r,s=t.type,a=void 0===s?"text":s,i=t.inputClass,u=t.extraProps,c=e.isFocused,l=e.moveDown,d=n||this.state.id,p=this.state.value,f=["_animate",c||p?"moveup":"",l?"movedown":""];return(0,h.h)("div",{class:"user-input-anim "+(i||"")},(0,h.h)("label",{class:f,for:d},o),(0,h.h)(g,{onFocus:this.onFocus,onBlur:this.onBlur,type:a,value:p,extraProps:u,id:d,onInput:this.__onInput}))},e}(h.wA);function g(t){var e=t.onFocus,n=t.onBlur,r=t.onInput,s=t.id,a=t.type,i=t.value,u=t.extraProps;return(0,h.h)("input",o()(o()({onFocus:e,onBlur:n,onInput:r,id:s,value:i,type:a},u),{},{class:"paper-input"}))}},9067:function(t,e,n){"use strict";n.d(e,{OK:function(){return u},Pt:function(){return c}});var r=n(2991),o=n.n(r),s=n(1942),a=n.n(s),i=n(2386);function u(t){return(0,i.az)(l,a()(a()({},t),{},{title:"Something Ain't Right"}))}var c=/([^\w]|_)/g;function l(t){var e;return(0,i.az)("div",{class:"app-popup",children:[(0,i.az)("div",{class:"heading-text clr app-popup-title",children:t.title}),(0,i.az)("div",{children:t.errorHead}),(0,i.az)("div",{class:"err-reasons",children:(0,i.az)("div",{children:o()(e=t.reasons).call(e,(function(t){return(0,i.az)("div",{children:[" - ",t]})}))})}),(0,i.az)("button",{class:"app-popup-close",onClick:t.close,children:"OK"})]})}},1103:function(t,e,n){n(5160);var r=n(4058);t.exports=r.Date.now},5160:function(t,e,n){n(6887)({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}})},7784:function(t,e,n){var r=n(1103);t.exports=r}}]);