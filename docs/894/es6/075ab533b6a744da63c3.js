(window.webpackJsonp=window.webpackJsonp||[]).push([[894],{894:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var r=s(386),n=s(67),a=s(710),o=s(118),i=s(662);function u(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const l=s(804).h.getStore();class c extends i.Z{constructor(...e){var t;super(...e),t=this,u(this,"state",{user:"",password:""}),u(this,"componentDidUpdate",this.loginCheck),u(this,"onSubmit",(async function(){t.setState({loading:!0});const e=await o.y.auth({user:t.state.user,password:t.state.password});return e.error?t.setState({hasError:!0,error:e.error,loading:!1}):(0,r.uX)("/profile")})),u(this,"resetError",()=>this.setState({hasError:!1,error:null}))}loginCheck(){if(l.isLoggedIn)return(0,r.uX)("/profile")}componentDidMount(){super.componentDidMount(),this.loginCheck()}onInput(e){return t=>{let s=t.target.value;"password"!==t&&(s=(s||"").trim()),this.setState({[e]:s||""})}}render(e,t){return(0,r.az)("div",{class:"form-doc",children:[(0,r.az)("div",{class:"form-title heading-text",children:"Login"}),t.hasError&&(0,r.az)(d,{close:this.resetError,reason:t.error}),(0,r.az)("div",{class:"form-stx",children:[(0,r.az)("form",{action:"javascript:",onsubmit:this.onSubmit,children:[(0,r.az)(a.H,{inputClass:"form-anim",value:this.state.user,type:"text",labelText:"username",onInput:this.onInput("user")}),(0,r.az)(a.H,{inputClass:"form-anim",value:this.state.password,type:"password",labelText:"password",onInput:this.onInput("password")}),(0,r.az)("button",{class:"heading-text submit-button hoverable",children:"Login"}),t.loading&&(0,r.az)("div",{children:"Just a sec, checking your credentials"})]}),(0,r.az)("div",{children:(0,r.az)("div",{class:"inst",children:[(0,r.az)(r.A,{href:"/register",class:"heading-text clr hoverable",children:"New User?"}),(0,r.az)(r.A,{href:"/forgot-password",class:"heading-text clr hoverable",style:{marginLeft:"auto"},children:"Forgot Password?"})]})})]})]})}}function d(e){return(0,r.az)(r.HY,{children:[(0,r.az)("div",{class:"mask child"}),(0,r.az)(n.O,{errorHead:"Can't register",close:e.close,reasons:[e.reason]})]})}},662:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var r=s(386),n=s(804);class a extends r.wA{constructor(...e){var t,s,r;super(...e),r=()=>this.setState({hasNewData:!0}),(s="_globalStoreStateChanged")in(t=this)?Object.defineProperty(t,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[s]=r}componentDidMount(){n.h.subscribe(this._globalStoreStateChanged)}componentWillUnmount(){n.h.unsubscribe(this._globalStoreStateChanged)}}},710:(e,t,s)=>{"use strict";s.d(t,{H:()=>a});var r=s(386);function n(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class a extends r.wA{constructor(...e){super(...e),n(this,"state",{isFocused:!1,value:this.props.value||""}),n(this,"onFocus",()=>!this.state.value&&this.setState({isFocused:!0,moveDown:!1})),n(this,"onBlur",()=>!this.state.value&&this.setState({isFocused:!1,moveDown:!0})),n(this,"onInput",e=>this.setState({value:e.target.value})),n(this,"__onInput",e=>{const t=this.props.onInput;this.onInput(e),null!=t&&t(e)})}render({id:e=Math.random(),labelText:t="",type:s="text",inputClass:n},{isFocused:a,moveDown:i}){const u=this.state.value,l=["_animate",a||u?"moveup":"",i?"movedown":""];return(0,r.h)("div",{class:"user-input-anim "+(n||"")},(0,r.h)("label",{class:l,for:e},t),(0,r.h)(o,{onFocus:this.onFocus,onBlur:this.onBlur,type:s,value:u,id:e,onInput:this.__onInput}))}}function o({onFocus:e,onBlur:t,onInput:s,id:n,type:a,value:o}){return(0,r.h)("input",{onFocus:e,onBlur:t,onInput:s,id:n,value:o,type:a,class:"paper-input"})}},67:(e,t,s)=>{"use strict";s.d(t,{O:()=>n});var r=s(386);function n(e){return(0,r.az)("div",{class:"app-popup",children:[(0,r.az)("div",{class:"heading-text clr app-popup-title",children:"Something Ain't Right"}),(0,r.az)("div",{children:e.errorHead}),(0,r.az)("div",{class:"err-reasons",children:(0,r.az)("div",{children:e.reasons.map(e=>(0,r.az)("div",{children:[" - ",e]}))})}),(0,r.az)("button",{class:"app-popup-close",onClick:e.close,children:"OK"})]})}}}]);