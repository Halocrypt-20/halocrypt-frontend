(window.webpackJsonp=window.webpackJsonp||[]).push([[564],{1564:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return E},Question:function(){return Q},getLinkOrTextNode:function(){return D}});n(4916),n(5306);var r=n(1942),i=n.n(r),a=n(2991),s=n.n(a),o=n(3109),c=n.n(o),u=(n(5666),n(1161)),l=n.n(u),d=n(7766),h=n.n(d),f=n(1222),p=n.n(f),v=n(4382),g=n.n(v),w=n(7672),z=n.n(w),b=n(2386),m=n(4383),_=n(77),S=n(3735),A=n(9067),x=m.h.getStore(),k=function(t){return(t||"").toLowerCase().replace(/\s/g,"")},y=(0,b.az)(Q,{data:{question_level:"Loading",question:"Finding your question",hint:[]}}),E=function(t){function e(){for(var e,n,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=t.call.apply(t,h()(e=[this]).call(e,i))||this,z()(p()(n),"state",{fetchedQuestion:null,isFetching:!1,answer:"",isAwaitingAnswer:!1,incorrect:!1}),z()(p()(n),"onInput",(function(t){return n.setState({answer:k(t.target.value)})})),z()(p()(n),"_submit",l()(c().mark((function t(){var e,r,i;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.state.isAwaitingAnswer&&!n.state.incorrect){t.next=2;break}return t.abrupt("return");case 2:if(e=n.state.answer){t.next=5;break}return t.abrupt("return");case 5:return n.setState({isAwaitingAnswer:!0}),r={answer:e},t.next=9,(0,S.V)(_.hY.answerQuestion,r);case 9:if(i=t.sent,!i.data.result){t.next=13;break}return t.abrupt("return",n.proceedToNextLevel());case 13:n.setState({isAwaitingAnswer:!1,incorrect:!0});case 14:case"end":return t.stop()}}),t)})))),z()(p()(n),"proceedToNextLevel",(function(){n.setState({fetchedQuestion:null,isAwaitingAnswer:!1,incorrect:!1,answer:""})})),z()(p()(n),"resetError",(function(){n.setState({incorrect:!1}),n.__focusAnswer()})),n}g()(e,t);var n=e.prototype;return n.componentDidMount=function(){if(!x.isLoggedIn)return(0,b.uX)("/login?next=/play");this.fetchQuestion()},n.componentDidUpdate=function(){if(null==this.state.fetchedQuestion)return this.fetchQuestion()},n.fetchQuestion=function(){var t=l()(c().mark((function t(){var e,n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.state.isFetching&&(x.eventBegan||x.userData.is_admin)){t.next=2;break}return t.abrupt("return");case 2:return this.setState({isFetching:!0}),t.next=5,(0,S.A)(_.hY.getQuestion);case 5:if(!(e=t.sent).error){t.next=8;break}return t.abrupt("return",this.setState({hasError:!0,isFetching:!1,fetchedQuestion:1}));case 8:n=e.data,this.setState({fetchedQuestion:n,isFetching:!1});case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),n.__focusAnswer=function(){var t=document.getElementById("answer-input");t&&t.focus()},n.render=function(t,e){return x.isLoggedIn&&x.userData.is_disqualified?(0,b.az)("div",{class:{fontSize:"4rem"},children:"Disqualified!"}):x.eventBegan||x.isLoggedIn&&x.userData.is_admin?(0,b.az)(b.HY,{children:[e.incorrect&&(0,b.az)(b.HY,{children:[(0,b.az)("div",{class:"mask"}),(0,b.az)(A.OK,{errorHead:"Nope",reasons:["That is not the right answer"],close:this.resetError})]}),e.isFetching||!e.fetchedQuestion?y:(0,b.az)(Q,{data:e.fetchedQuestion,value:e.answer,onInput:this.onInput,onSubmit:this._submit}),e.isAwaitingAnswer&&"Checking your answer...",(0,b.az)("div",{class:"hint-help",style:{margin:"auto",width:"70%"},children:[(0,b.az)("div",{children:"Find Hints On:"}),(0,b.az)(A.r8,{})]})]}):(0,b.az)("div",{style:{fontSize:"4rem"},children:"Not yet"})},e}(b.wA),I={autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:!1,style:{width:"90%",marginTop:"2rem"}};function Q(t){var e,n=t.data,r=t.value,a=t.onInput,o=t.onSubmit,c=t.disableInput;return n.game_over?"You win (?)":(0,b.az)("form",{action:"javascript:",onSubmit:o,children:[(0,b.az)("div",{class:"question-num",children:["Question - ",n.question_level]}),(0,b.az)("div",{class:"question-card",children:[(0,b.az)("div",{children:D(n.question)}),(0,b.az)("div",{class:"question-hint",children:n.hint&&!!n.hint.length&&s()(e=n.hint).call(e,(function(t,e){return(0,b.az)(q,{data:t,i:e})}))}),!c&&(0,b.az)("input",i()({id:"answer-input",class:"paper-input",placeholder:"Answer",onInput:a,value:r},I))]}),!c&&(0,b.az)("button",{class:"action-button heading-text sbm-button hoverable",children:"Submit"})]})}function D(t){if("string"==typeof t)return t;var e=t.type,n=t.value;return"text"===e?n:"link"===e?(0,b.az)("a",{target:"_blank",href:n,style:{textDecoration:"underline",color:"var(--spec-color)",wordBreak:"break-all"},children:n}):void 0}function q(t){var e=t.data,n=t.i;return e&&!!e.value&&(0,b.az)("div",{children:["Hint "+(n+1)+": ",D(e)]})}},9067:function(t,e,n){"use strict";n.d(e,{OK:function(){return g},Pt:function(){return w},GI:function(){return z},r8:function(){return b}});var r=n(2991),i=n.n(r),a=n(7766),s=n.n(a),o=n(1222),c=n.n(o),u=n(4382),l=n.n(u),d=n(7672),h=n.n(d),f=n(1942),p=n.n(f),v=n(2386);function g(t){return(0,v.az)(z,p()(p()({},t),{},{title:"Something Ain't Right"}))}var w=/([^\w]|_)/g,z=function(t){function e(){for(var e,n,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=t.call.apply(t,s()(e=[this]).call(e,i))||this,h()(c()(n),"__id",Math.random()),n}l()(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=document.getElementById(""+this.__id);t&&t.focus()},n.render=function(t){var e;return(0,v.az)("div",{class:"app-popup",children:[(0,v.az)("div",{class:"heading-text clr app-popup-title",children:t.title}),(0,v.az)("div",{children:t.errorHead}),(0,v.az)("div",{class:"err-reasons",children:(0,v.az)("div",{children:i()(e=t.reasons||[]).call(e,(function(t){return(0,v.az)("div",{children:[" - ",t]})}))})}),(0,v.az)("button",{id:this.__id,class:"app-popup-close",onClick:t.close,children:"OK"})]})},e}(v.ZP);function b(){return(0,v.az)("div",{class:"social-link-container",children:[(0,v.az)("a",{target:"_blank",href:"https://discord.gg/fz8e6Df",class:"heading-text clr hoverable",children:"Discord"}),(0,v.az)("a",{target:"_blank",href:"https://twitter.com/halocrypt1",class:"heading-text clr hoverable",children:"Twitter"})]})}},5306:function(t,e,n){"use strict";var r=n(7007),i=n(9670),a=n(7908),s=n(7466),o=n(9958),c=n(4488),u=n(1530),l=n(7651),d=Math.max,h=Math.min,f=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,v=/\$([$&'`]|\d\d?)/g;r("replace",2,(function(t,e,n,r){var g=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,w=r.REPLACE_KEEPS_$0,z=g?"$":"$0";return[function(n,r){var i=c(this),a=null==n?void 0:n[t];return void 0!==a?a.call(n,i,r):e.call(String(i),n,r)},function(t,r){if(!g&&w||"string"==typeof r&&-1===r.indexOf(z)){var a=n(e,t,this,r);if(a.done)return a.value}var c=i(t),f=String(this),p="function"==typeof r;p||(r=String(r));var v=c.global;if(v){var m=c.unicode;c.lastIndex=0}for(var _=[];;){var S=l(c,f);if(null===S)break;if(_.push(S),!v)break;""===String(S[0])&&(c.lastIndex=u(f,s(c.lastIndex),m))}for(var A,x="",k=0,y=0;y<_.length;y++){S=_[y];for(var E=String(S[0]),I=d(h(o(S.index),f.length),0),Q=[],D=1;D<S.length;D++)Q.push(void 0===(A=S[D])?A:String(A));var q=S.groups;if(p){var L=[E].concat(Q,I,f);void 0!==q&&L.push(q);var T=String(r.apply(void 0,L))}else T=b(E,f,I,Q,q,r);I>=k&&(x+=f.slice(k,I)+T,k=I+E.length)}return x+f.slice(k)}];function b(t,n,r,i,s,o){var c=r+t.length,u=i.length,l=v;return void 0!==s&&(s=a(s),l=p),e.call(o,l,(function(e,a){var o;switch(a.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,r);case"'":return n.slice(c);case"<":o=s[a.slice(1,-1)];break;default:var l=+a;if(0===l)return e;if(l>u){var d=f(l/10);return 0===d?e:d<=u?void 0===i[d-1]?a.charAt(1):i[d-1]+a.charAt(1):e}o=i[l-1]}return void 0===o?"":o}))}}))}}]);