(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{17:(t,e,s)=>{"use strict";s.r(e);var n=s(386);function a(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}class r extends n.wA{constructor(...t){super(...t),a(this,"state",{isFocused:!1,value:""}),a(this,"onFocus",()=>!this.state.value&&this.setState({isFocused:!0,moveDown:!1})),a(this,"onBlur",()=>!this.state.value&&this.setState({isFocused:!1,moveDown:!0})),a(this,"onInput",t=>this.setState({value:t.target.value})),a(this,"onSubmit",()=>this.props.onSubmit(this.state.value))}render({id:t,labelText:e="",type:s="text",onInput:a},{isFocused:r,moveDown:i}){const u=["_animate",r?"moveup":"",i?"movedown":""];return(0,n.h)("div",{class:"user-input-anim"},(0,n.h)("label",{class:u,for:t},e),(0,n.h)(o,{onFocus:this.onFocus,onBlur:this.onBlur,type:s,id:t,onInput:t=>{this.onInput(t),null!=a&&a(t)}}))}}function o({onFocus:t,onBlur:e,onInput:s,id:a,type:r}){return(0,n.h)("input",{onFocus:t,onBlur:e,onInput:s,id:a,type:r,class:"paper-input"})}class i extends n.wA{_onInput(t){return e=>this.setState({[t]:e.target.value})}render(t){return(0,n.az)("div",{class:"form-doc",children:[(0,n.az)("div",{class:"form-title heading-text",children:t.action}),(0,n.az)("div",{class:"form-ext-text heading-text clr",children:t.extraText}),this.props.hasError&&(0,n.az)("div",{class:"error-form",children:this.props.error}),(0,n.az)("div",{class:"form-stx",children:(0,n.az)("form",{action:"javascript:",onsubmit:t.onSubmit,children:[t.children,(0,n.az)("div",{class:"inst",children:(0,n.az)(n.A,{href:t.altLocationPath,class:"heading-text clr ",children:t.altLocation})}),(0,n.az)("button",{class:"heading-text submit-button",children:t.action})]})})]})}}var u=s(446);function l(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}s.d(e,{default:()=>m});const c=/([^\w]|_)/g,h="Username should be between 3 and 30 characters",d="Username and name can not contain special characters",p="Invalid email";class m extends n.wA{constructor(...t){var e;super(...t),e=this,l(this,"state",{user:"",email:"",name:"",password:"",school:"",ig_user_id:""}),l(this,"onSubmit",(async function(){e.setState({hasError:!1});const{user:t,email:s,name:a,password:r,school:o,ig_user_id:i,conf_pass:l}=e.state,c=e._isValid(t,s,a,r,o,i,l);if(c.isValid){const l=await u.y.createAccount({user:t,email:s,name:a,password:r,school:o,ig_user_id:i});if(l.error)return e.setState({hasError:!0,error:l.error});l.id&&(0,n.uX)("/")}return e.setState({hasError:!0,error:c.err})}))}_onInput(t){return e=>this.setState({[t]:(e.target.value||"").trim()})}_isValid(t,e,s,a,r,o,i){const u=[];return(t.length<3||t.length>30)&&u.push(h),t.replace(c,"")===t&&s.replace(c,"")===s||u.push(d),e.includes("@")||u.push(p),a!==i&&u.push("Passwords do not match"),u.length?{err:(0,n.az)("div",{style:"",children:u.map(t=>(0,n.az)("div",{children:[" - ",t]}))})}:{isValid:!0}}render(){return(0,n.az)(i,{action:"Register",extraText:"Let's get you started",altLocation:"Want to Login instead?",altLocationPath:"/login",onSubmit:this.onSubmit,hasError:this.state.hasError,error:this.state.error,children:[(0,n.az)(r,{labelText:"USERNAME",onInput:this._onInput("user")}),(0,n.az)(r,{labelText:"Name",onInput:this._onInput("name")}),(0,n.az)(r,{labelText:"Email",onInput:this._onInput("email")}),(0,n.az)(r,{labelText:"School",onInput:this._onInput("school")}),(0,n.az)(r,{labelText:"Instagram (Optional)",onInput:this._onInput("ig_user_id")}),(0,n.az)(r,{type:"password",labelText:"Password",onInput:this._onInput("password")}),(0,n.az)(r,{type:"password",labelText:"Confirm Password",onInput:this._onInput("conf_pass")})]})}}}}]);