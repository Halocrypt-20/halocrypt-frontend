(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{17:(t,e,s)=>{"use strict";s.r(e);var r=s(386);function a(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}class n extends r.wA{constructor(...t){super(...t),a(this,"state",{isFocused:!1,value:""}),a(this,"onFocus",()=>!this.state.value&&this.setState({isFocused:!0,moveDown:!1})),a(this,"onBlur",()=>!this.state.value&&this.setState({isFocused:!1,moveDown:!0})),a(this,"onInput",t=>this.setState({value:t.target.value})),a(this,"onSubmit",()=>this.props.onSubmit(this.state.value))}render({id:t,labelText:e="",type:s="text",onInput:a},{isFocused:n,moveDown:i}){const l=["_animate",n?"moveup":"",i?"movedown":""];return(0,r.h)("div",{class:"user-input-anim"},(0,r.h)("label",{class:l,for:t},e),(0,r.h)(o,{onFocus:this.onFocus,onBlur:this.onBlur,type:s,id:t,onInput:t=>{this.onInput(t),null!=a&&a(t)}}))}}function o({onFocus:t,onBlur:e,onInput:s,id:a,type:n}){return(0,r.h)("input",{onFocus:t,onBlur:e,onInput:s,id:a,type:n,class:"paper-input"})}class i extends r.wA{_onInput(t){return e=>this.setState({[t]:e.target.value})}render(t){return(0,r.az)("div",{class:"form-doc",children:[(0,r.az)("div",{class:"form-title heading-text",children:t.action}),(0,r.az)("div",{class:"form-ext-text heading-text clr",children:t.extraText}),this.props.hasError&&(0,r.az)("div",{class:"error-form",children:this.props.error}),(0,r.az)("div",{class:"form-stx",children:(0,r.az)("form",{action:"javascript:",onsubmit:t.onSubmit,children:[t.children,(0,r.az)("div",{class:"inst",children:(0,r.az)(r.A,{href:t.altLocationPath,class:"heading-text clr ",children:t.altLocation})}),(0,r.az)("button",{class:"heading-text submit-button",children:t.action})]})})]})}}function l(t){return(0,r.az)("div",{class:"app-popup",children:[(0,r.az)("div",{class:"heading-text clr app-popup-title",children:"Something Ain't Right"}),(0,r.az)("div",{class:"err-reasons",children:[(0,r.az)("div",{children:t.errorHead}),(0,r.az)("div",{children:t.reasons.map(t=>(0,r.az)("div",{children:[" - ",t]}))})]}),(0,r.az)("button",{class:"app-popup-close",onClick:t.close,children:"OK"})]})}var u=s(446);function c(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}s.d(e,{default:()=>v});const h=/([^\w]|_)/g,d=/([^\w^\s]|_)/g,p="Username should be between 3 and 30 characters",m="Username and name can not contain special characters",b="Invalid email";class v extends r.wA{constructor(...t){var e;super(...t),e=this,c(this,"state",{user:"",email:"",name:"",password:"",conf_pass:"",school:"",ig_user_id:""}),c(this,"resetError",()=>this.setState({hasError:!1,error:null})),c(this,"onSubmit",(async function(){e.setState({hasError:!1});const{user:t,email:s,name:a,password:n,school:o,ig_user_id:i,conf_pass:l}=e.state,c=e._isValid(t,s,a,n,o,i,l);if(c.isValid){const l=await u.y.createAccount({user:t,email:s,name:a,password:n,school:o,ig_user_id:i});if(l.error)return e.setState({hasError:!0,error:l.error});l.id&&(0,r.uX)("/")}return e.setState({hasError:!0,error:c.error})}))}_onInput(t){return e=>this.setState({[t]:(e.target.value||"").trim()})}_isValid(t,e,s,a,n,o,i){const u=[];return(t.length<3||t.length>30)&&u.push(p),t.replace(h,"")===t&&s.replace(d,"")===s||u.push(m),e.includes("@")||u.push(b),a!==i&&u.push("Passwords do not match"),[s,e,t,a,n].some(t=>!t)&&u.push("Please fill the required fields"),u.length?{error:(0,r.az)(l,{errorHead:"We could not register your account because:",reasons:u,close:this.resetError})}:{isValid:!0}}render(){return(0,r.az)(i,{action:"Register",extraText:"Let's get you started",altLocation:"Want to Login instead?",altLocationPath:"/login",onSubmit:this.onSubmit,hasError:this.state.hasError,error:this.state.error,children:[(0,r.az)(n,{labelText:"Name",onInput:this._onInput("name")}),(0,r.az)(n,{labelText:"USERNAME",onInput:this._onInput("user")}),(0,r.az)(n,{labelText:"Email",type:"email",onInput:this._onInput("email")}),(0,r.az)(n,{labelText:"School",onInput:this._onInput("school")}),(0,r.az)(n,{labelText:"Instagram (Optional)",onInput:this._onInput("ig_user_id")}),(0,r.az)(n,{type:"password",labelText:"Password",onInput:this._onInput("password")}),(0,r.az)(n,{type:"password",labelText:"Confirm Password",onInput:this._onInput("conf_pass")})]})}}}}]);