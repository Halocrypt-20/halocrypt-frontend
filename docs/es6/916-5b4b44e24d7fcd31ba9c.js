(window.webpackJsonp=window.webpackJsonp||[]).push([[916],{916:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>h});var r=s(386),n=s(710),a=s(67),o=s(77),i=s(649);function u(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}const c=o.EA.forgotPassword,d=t=>(t.target.value||"").trim();class h extends r.wA{constructor(...t){var e;super(...t),e=this,u(this,"state",{user:"",isLoading:!1}),u(this,"onSubmit",()=>{if(this.state.isLoading)return;const t=this.state.user.replace(a.Pt,"");this.setState({isLoading:!0,success:!1}),(0,i.V)(c,{user:t}).then(t=>{if(t.error||t.data.error)return this.setState({error});this.setState({success:!0,isLoading:!1})})}),u(this,"onInputUserName",(async function(t){return e.setState({user:d(t)})})),u(this,"onInputPasswordToken",t=>this.setState({passwordToken:d(t)})),u(this,"onInputNewPassword",t=>this.setState({newPassword:d(t)})),u(this,"onInputConfNewPassword",t=>this.setState({confNewPassword:d(t)})),u(this,"onSubmitPasswordToken",()=>{if(this.state.isLoading)return;const t=(this.state.passwordToken||"").trim(),e=this.state.newPassword,s=this.state.confNewPassword,n=[];if(t||n.push("token"),e||n.push("password"),s||n.push("confirm password"),e!==s&&n.push("Passwords must match"),n.length)return this.setState({error:n});this.setState({isLoading:!0}),(0,i.V)(o.EA.checkPasswordToken,{token:t,new_password:e}).then(t=>{const e=t.error||t.data.error;if(e)return this.setState({error:e,isLoading:!1});(0,r.uX)("/login?changed-password=true")})}),u(this,"_resetError",()=>this.setState({error:null}))}render(t,e){return(0,r.az)("div",{children:[e.error&&(0,r.az)(a.OK,{errorHead:"Failed",reasons:Array.isArray(e.error)?e.error:[e.error],close:this._resetError}),(0,r.az)("div",{class:"heading-text bfont mtx-fp",children:"Reset"}),(0,r.az)("div",{class:"clr heading-text",children:"Gold Fish Memory?"}),(0,r.az)("form",{action:"javascript:",onSubmit:e.success?this.onSubmitPasswordToken:this.onSubmit,children:[e.success&&"Check your email for the token",(0,r.az)("div",{class:"input-parent",children:e.success?(0,r.az)("div",{children:[(0,r.az)(n.H,{onInput:this.onInputPasswordToken,labelText:"Token"}),(0,r.az)(n.H,{onInput:this.onInputNewPassword,labelText:"New Password",type:"password"}),(0,r.az)(n.H,{onInput:this.onInputConfNewPassword,labelText:"Confirm",type:"password"})]}):(0,r.az)(n.H,{onInput:this.onInputUserName,labelText:"Username"})}),(0,r.az)("button",{class:"action-button hoverable heading-text",children:"Submit"})]}),e.isLoading&&"Hang on.. Contacting our servers"]})}}},710:(t,e,s)=>{"use strict";s.d(e,{H:()=>a});var r=s(386);function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}class a extends r.wA{constructor(...t){super(...t),n(this,"state",{id:Math.random(),isFocused:!1,value:this.props.value||""}),n(this,"onFocus",()=>!this.state.value&&this.setState({isFocused:!0,moveDown:!1})),n(this,"onBlur",()=>!this.state.value&&this.setState({isFocused:!1,moveDown:!0})),n(this,"onInput",t=>this.setState({value:t.target.value})),n(this,"__onInput",t=>{const e=this.props.onInput;this.onInput(t),null!=e&&e(t)})}render({id:t,labelText:e="",type:s="text",inputClass:n,extraProps:a},{isFocused:i,moveDown:u}){const c=t||this.state.id,d=this.state.value,h=["_animate",i||d?"moveup":"",u?"movedown":""];return(0,r.h)("div",{class:"user-input-anim "+(n||"")},(0,r.h)("label",{class:h,for:c},e),(0,r.h)(o,{onFocus:this.onFocus,onBlur:this.onBlur,type:s,value:d,extraProps:a,id:c,onInput:this.__onInput}))}}function o({onFocus:t,onBlur:e,onInput:s,id:n,type:a,value:o,extraProps:i}){return(0,r.h)("input",{onFocus:t,onBlur:e,onInput:s,id:n,value:o,type:a,...i,class:"paper-input"})}},67:(t,e,s)=>{"use strict";s.d(e,{OK:()=>n,Pt:()=>a,GI:()=>o,r8:()=>i});var r=s(386);function n(t){return(0,r.az)(o,{...Object.assign({},t,{title:"Something Ain't Right"})})}const a=/([^\w]|_)/g;class o extends r.ZP{constructor(...t){var e,s,r;super(...t),e=this,s="__id",r=Math.random(),s in e?Object.defineProperty(e,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[s]=r}componentDidMount(){const t=document.getElementById(""+this.__id);t&&t.focus()}render(t){return(0,r.az)("div",{class:"app-popup",children:[(0,r.az)("div",{class:"heading-text clr app-popup-title",children:t.title}),(0,r.az)("div",{children:t.errorHead}),(0,r.az)("div",{class:"err-reasons",children:(0,r.az)("div",{children:(t.reasons||[]).map(t=>(0,r.az)("div",{children:[" - ",t]}))})}),(0,r.az)("button",{id:this.__id,class:"app-popup-close",onClick:t.close,children:"OK"})]})}}function i(){return(0,r.az)("div",{class:"social-link-container",children:[(0,r.az)("a",{target:"_blank",href:"https://discord.gg/fz8e6Df",class:"heading-text clr hoverable",children:"Discord"}),(0,r.az)("a",{target:"_blank",href:"https://twitter.com/halocrypt1",class:"heading-text clr hoverable",children:"Twitter"})]})}}}]);